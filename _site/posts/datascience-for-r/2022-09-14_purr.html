<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="조윤호">
<meta name="dcterms.date" content="2022-09-14">

<title>blog - purr와 broom</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../.././img/school-locker.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">blog</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../about.html" aria-current="page">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jjyun98/R_locker/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com"><i class="bi bi-instagram" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">purr와 broom</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">purr와 broom</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>조윤호 </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 14, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about.html" class="sidebar-item-text sidebar-link">About</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Posts</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Datascience for R</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-01-data_handling_a.html" class="sidebar-item-text sidebar-link">Data handling a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-02-data_handling_b.html" class="sidebar-item-text sidebar-link">Data handling b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-06_factor.html" class="sidebar-item-text sidebar-link">factor</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-07-01-ggplot1.html" class="sidebar-item-text sidebar-link">ggplot a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-07-02-ggplot2.html" class="sidebar-item-text sidebar-link">ggplot b</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-20_mutate.html" class="sidebar-item-text sidebar-link">mutate</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-09-14_purr.html" class="sidebar-item-text sidebar-link active">purr와 broom</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-21_string.html" class="sidebar-item-text sidebar-link">string</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-18_tibble.html" class="sidebar-item-text sidebar-link">tibble, parsing</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-19_tidydata.html" class="sidebar-item-text sidebar-link">tidy data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-15_vector.html" class="sidebar-item-text sidebar-link">vector</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-09-11_모델링.html" class="sidebar-item-text sidebar-link">모델링 a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-09-12_모델링2.html" class="sidebar-item-text sidebar-link">모델링 a</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/datascience-for-r/2022-08-17_반복문.html" class="sidebar-item-text sidebar-link">반복문</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Regression</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/regression/2022-08-10_회귀분석.html" class="sidebar-item-text sidebar-link">회귀분석</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">Time Series</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/time-series/2022-10-02-시계열자료분석-학습1.html" class="sidebar-item-text sidebar-link">(수업) 시계열 자료분석 실습 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/time-series/2022-10-05-시계열자료분석-학습2.html" class="sidebar-item-text sidebar-link">(수업) 시계열 자료분석 실습 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/time-series/2022-10-08-시계열자료분석-학습3.html" class="sidebar-item-text sidebar-link">(수업) 시계열 자료분석 실습 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/time-series/2022-10-12-시계열자료분석-학습4.html" class="sidebar-item-text sidebar-link">(수업) 시계열 자료분석 실습 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../posts/time-series/시계열자료분석-실습5.html" class="sidebar-item-text sidebar-link">(수업) 시계열 자료분석 실습 5</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#purr와-broom" id="toc-purr와-broom" class="nav-link active" data-scroll-target="#purr와-broom">purr와 broom</a>
  <ul class="collapse">
  <li><a href="#보충-필요-전체적으로-이해-못함" id="toc-보충-필요-전체적으로-이해-못함" class="nav-link" data-scroll-target="#보충-필요-전체적으로-이해-못함">보충 필요 ★★(전체적으로 이해 못함)</a>
  <ul class="collapse">
  <li><a href="#gapminder-데이터" id="toc-gapminder-데이터" class="nav-link" data-scroll-target="#gapminder-데이터">gapminder 데이터</a></li>
  <li><a href="#중첩된-데이터nested-data" id="toc-중첩된-데이터nested-data" class="nav-link" data-scroll-target="#중첩된-데이터nested-data">중첩된 데이터(Nested Data)</a></li>
  <li><a href="#리스트-열" id="toc-리스트-열" class="nav-link" data-scroll-target="#리스트-열">리스트-열</a></li>
  <li><a href="#중첩-해제하기unnesting" id="toc-중첩-해제하기unnesting" class="nav-link" data-scroll-target="#중첩-해제하기unnesting">중첩 해제하기(Unnesting)</a></li>
  <li><a href="#모델의-성능" id="toc-모델의-성능" class="nav-link" data-scroll-target="#모델의-성능">모델의 성능</a></li>
  </ul></li>
  <li><a href="#리스트-열list-column" id="toc-리스트-열list-column" class="nav-link" data-scroll-target="#리스트-열list-column">리스트-열(List-column)</a>
  <ul class="collapse">
  <li><a href="#중첩을-사용하여-생성하기" id="toc-중첩을-사용하여-생성하기" class="nav-link" data-scroll-target="#중첩을-사용하여-생성하기">중첩을 사용하여 생성하기</a></li>
  <li><a href="#벡터화-함수에서-생성하기" id="toc-벡터화-함수에서-생성하기" class="nav-link" data-scroll-target="#벡터화-함수에서-생성하기">벡터화 함수에서 생성하기</a></li>
  <li><a href="#다중값-요약에서-생성하기" id="toc-다중값-요약에서-생성하기" class="nav-link" data-scroll-target="#다중값-요약에서-생성하기">다중값 요약에서 생성하기</a></li>
  <li><a href="#명명된-리스트에서-생성하기" id="toc-명명된-리스트에서-생성하기" class="nav-link" data-scroll-target="#명명된-리스트에서-생성하기">명명된 리스트에서 생성하기</a></li>
  <li><a href="#리스트-열-단순화하기" id="toc-리스트-열-단순화하기" class="nav-link" data-scroll-target="#리스트-열-단순화하기">리스트-열 단순화하기</a></li>
  <li><a href="#broom으로-타이디-데이터-만들기" id="toc-broom으로-타이디-데이터-만들기" class="nav-link" data-scroll-target="#broom으로-타이디-데이터-만들기">broom으로 타이디 데이터 만들기</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="purr와-broom" class="level1">
<h1>purr와 broom</h1>
<p>중첩된 데이터(Nested Data), 리스트-열(중첩, 벡터화 함수, 다중값 요약), broom</p>
<div class="cell" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(<span class="st">'tidyverse'</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(<span class="st">'modelr'</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(<span class="st">'gapminder'</span>) <span class="co"># 기대 수명과 GDP와 같은 통계량을 통해 시간의 경과에 따른 국가의 변천을 요약</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="보충-필요-전체적으로-이해-못함" class="level2">
<h2 class="anchored" data-anchor-id="보충-필요-전체적으로-이해-못함">보충 필요 ★★(전체적으로 이해 못함)</h2>
<ul>
<li>많은 양의 모델을 쉽게 작업할 수 있도록 하는 세 가지 아이디어를 알아보면</li>
</ul>
<blockquote class="blockquote">
<ol type="1">
<li>간단한 모델을 여러 개 사용하여 복잡한 데이터셋을 잘 이해한다.<br></li>
<li>리스트-열(리스트 형식의 열)을 사용하여 임의의 데이터 구조를 데이터 프레임에 저장한다. 예를 들어 리스트-열은 선형 모델을 포함하는 열을 가질 수 있다.<br></li>
<li>broom 패키지를 사용하여 모델을 타이디 데이터로 변환한다. 타이디 데이터가 존재한다면 이전에 배운 기법들을 적용할 수 있으므로 이는 많은 양의 모델을 작업할 수 있는 좋은 기법이다.</li>
</ol>
</blockquote>
<section id="gapminder-데이터" class="level3">
<h3 class="anchored" data-anchor-id="gapminder-데이터">gapminder 데이터</h3>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>gapminder <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 6 × 6</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">year</th><th scope="col">lifeExp</th><th scope="col">pop</th><th scope="col">gdpPercap</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia</td><td>1952</td><td>28.801</td><td> 8425333</td><td>779.4453</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1957</td><td>30.332</td><td> 9240934</td><td>820.8530</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1962</td><td>31.997</td><td>10267083</td><td>853.1007</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1967</td><td>34.020</td><td>11537966</td><td>836.1971</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1972</td><td>36.088</td><td>13079460</td><td>739.9811</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1977</td><td>38.438</td><td>14880372</td><td>786.1134</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-4-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>전반적으로는 기대 수명이 꾸준히 증가하고 있는 것처럼 보이지만 자세히 살펴보면 이 패턴을 따르지 않는 국가들이 일부 존재하는 것을 알 수 있다.<br> 이 국가들을 보기 쉽게 만들려면, 즉 숨겨진 추세를 확인하기 어렵게 만드는 강한 신호(전반적인 선형 추세)가 존재할 때, 선형 추세 모델을 적합하여 이 요소들을 구분할 것이다. 모델은 시간에 따라 꾸준히 증가하는 추세를 포착하고 잔차는 남아있는 추세를 보여줄 것이다.</li>
</ul>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>nz <span class="ot">&lt;-</span> <span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">"New Zealand"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a>nz <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, lifeExp)) <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="fu">ggtitle</span>(<span class="st">"Full data = "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>nz_mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifeExp <span class="sc">~</span> year, <span class="at">data =</span> nz)</span>
<span id="cb5-2"><a href="#cb5-2"></a>nz <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="fu">add_predictions</span>(nz_mod) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, pred)) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="fu">ggtitle</span>(<span class="st">"Linear trend + "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-6-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>nz <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">add_residuals</span>(nz_mod) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, resid)) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"white"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="fu">ggtitle</span>(<span class="st">"Remaining pattern"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="중첩된-데이터nested-data" class="level3">
<h3 class="anchored" data-anchor-id="중첩된-데이터nested-data">중첩된 데이터(Nested Data)</h3>
<ul>
<li><code>group_by</code>로 묶어놓고 그에 해당하는 나머지 항목들 리스트(같은 데이터 프레임)로 묶어 정리</li>
</ul>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>by_country <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="fu">group_by</span>(country, continent) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="fu">nest</span>()</span>
<span id="cb7-4"><a href="#cb7-4"></a></span>
<span id="cb7-5"><a href="#cb7-5"></a>by_country <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 3</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>by_country<span class="sc">$</span>data[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 12 × 4</caption>
<thead>
    <tr><th scope="col">year</th><th scope="col">lifeExp</th><th scope="col">pop</th><th scope="col">gdpPercap</th></tr>
    <tr><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1952</td><td>28.801</td><td> 8425333</td><td>779.4453</td></tr>
    <tr><td>1957</td><td>30.332</td><td> 9240934</td><td>820.8530</td></tr>
    <tr><td>1962</td><td>31.997</td><td>10267083</td><td>853.1007</td></tr>
    <tr><td>1967</td><td>34.020</td><td>11537966</td><td>836.1971</td></tr>
    <tr><td>1972</td><td>36.088</td><td>13079460</td><td>739.9811</td></tr>
    <tr><td>1977</td><td>38.438</td><td>14880372</td><td>786.1134</td></tr>
    <tr><td>1982</td><td>39.854</td><td>12881816</td><td>978.0114</td></tr>
    <tr><td>1987</td><td>40.822</td><td>13867957</td><td>852.3959</td></tr>
    <tr><td>1992</td><td>41.674</td><td>16317921</td><td>649.3414</td></tr>
    <tr><td>1997</td><td>41.763</td><td>22227415</td><td>635.3414</td></tr>
    <tr><td>2002</td><td>42.129</td><td>25268405</td><td>726.7341</td></tr>
    <tr><td>2007</td><td>43.828</td><td>31889923</td><td>974.5803</td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="리스트-열" class="level3">
<h3 class="anchored" data-anchor-id="리스트-열">리스트-열</h3>
<ul>
<li>중첩된 데이터프레임에 모델 적합해보기</li>
</ul>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>country_model <span class="ot">&lt;-</span> <span class="cf">function</span>(df){</span>
<span id="cb9-2"><a href="#cb9-2"></a>    <span class="fu">lm</span>(lifeExp <span class="sc">~</span> year, <span class="at">data =</span> df)</span>
<span id="cb9-3"><a href="#cb9-3"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>models <span class="ot">&lt;-</span> <span class="fu">map</span>(by_country<span class="sc">$</span>data, country_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>models <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>[[1]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
  -507.5343       0.2753  


[[2]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
  -594.0725       0.3347  


[[3]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
 -1067.8590       0.5693  


[[4]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
  -376.5048       0.2093  


[[5]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
  -389.6063       0.2317  


[[6]]

Call:
lm(formula = lifeExp ~ year, data = df)

Coefficients:
(Intercept)         year  
  -376.1163       0.2277  
</code></pre>
</div>
</div>
<ul>
<li>보기 어려운 형태로 저장되므로 보기 좋게 데이터 프레임 형식으로 저장하기</li>
</ul>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>by_country <span class="ot">&lt;-</span> by_country <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">map</span>(data, country_model))</span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a>by_country <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 4</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td><td>-594.0725, 0.3346832, -3.999128, -1.622544, 2.24404, 1.970624, 1.767207, 1.333791, 1.150375, 1.056959, -1.035457, -1.339873, -0.312289, -1.213705, -237.0586, 20.01115, 3.248124, 2.926981, 2.675838, 2.194694, 1.963551, 1.822408, -0.3177351, -0.6698783, 0.3099785, -0.6391646, 2, 59.22913, 60.90254, 62.57596, 64.24938, 65.92279, 67.59621, 69.26962, 70.94304, 72.61646, 74.28987, 75.96329, 77.63671, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 55.23, 59.28, 64.82, 66.22, 67.69, 68.93, 70.42, 72, 71.581, 72.95, 75.651, 76.423, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td><td>-1067.859, 0.5692797, -0.2979744, -0.536373, -0.7647716, -0.5071702, -0.2425688, 0.4070326, 0.914634, 2.499235, 1.597837, 0.1594382, -0.8449604, -2.384359, -204.4865, 34.03798, -0.6280719, -0.4013136, -0.1675554, 0.4512029, 0.9279612, 2.481719, 1.549478, 0.08023599, -0.9550057, -2.525247, 2, 43.37497, 46.22137, 49.06777, 51.91417, 54.76057, 57.60697, 60.45337, 63.29976, 66.14616, 68.99256, 71.83896, 74.68536, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td><td>-376.5048, 0.2093399, -2.111654, -1.174353, -0.2200524, 0.7182483, 1.614549, 2.12285, 1.53515, 0.452451, 0.1467517, -0.5839476, -1.590647, -0.9093462, -131.2323, 12.5167, 0.3574398, 1.24968, 2.099921, 2.562161, 1.928402, 0.799642, 0.4478825, -0.3288771, -1.381637, -0.7463962, 2, 32.12665, 33.17335, 34.22005, 35.26675, 36.31345, 37.36015, 38.40685, 39.45355, 40.50025, 41.54695, 42.59365, 43.64035, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 30.015, 31.999, 34, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td><td>-389.6063, 0.2317084, -0.2034359, 0.5520221, 0.1364802, -0.5300618, -0.2576037, -0.0001456876, 0.3023124, -0.0242296, -0.08877156, 0.1596865, 0.06614452, -0.1123974, -239.2323, 13.85415, 0.09303993, -0.5342543, -0.2225486, 0.07415714, 0.4158629, 0.1285686, 0.1032744, 0.3909801, 0.3366858, 0.1973916, 2, 62.68844, 63.84698, 65.00552, 66.16406, 67.3226, 68.48115, 69.63969, 70.79823, 71.95677, 73.11531, 74.27386, 75.4324, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.34, 75.32, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td><td>-376.1163, 0.2277238, 0.7194872, 0.7908683, 0.2522494, -0.7163695, -1.024988, -0.6036072, -0.4922261, -0.05084499, 0.05053613, 0.1819172, 0.5832984, 0.3096795, -258.6399, 13.6159, -0.002715871, -0.9299787, -1.197241, -0.7345042, -0.581767, -0.09902982, 0.04370739, 0.2164446, 0.6591818, 0.426919, 2, 68.40051, 69.53913, 70.67775, 71.81637, 72.95499, 74.09361, 75.23223, 76.37084, 77.50946, 78.64808, 79.7867, 80.92532, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 69.12, 70.33, 70.93, 71.1, 71.93, 73.49, 74.74, 76.32, 77.56, 78.83, 80.37, 81.235, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>이 방법의 장점은 모든 관련 객체가 함께 저장되므로 필터링하거나 정렬할 때 수동으로 동기화할 필요가 없다.</li>
</ul>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">filter</span>(continent <span class="sc">==</span> <span class="st">"Europe"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 4</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Albania               </td><td>Europe</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td><td>-594.0725, 0.3346832, -3.999128, -1.622544, 2.24404, 1.970624, 1.767207, 1.333791, 1.150375, 1.056959, -1.035457, -1.339873, -0.312289, -1.213705, -237.0586, 20.01115, 3.248124, 2.926981, 2.675838, 2.194694, 1.963551, 1.822408, -0.3177351, -0.6698783, 0.3099785, -0.6391646, 2, 59.22913, 60.90254, 62.57596, 64.24938, 65.92279, 67.59621, 69.26962, 70.94304, 72.61646, 74.28987, 75.96329, 77.63671, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 55.23, 59.28, 64.82, 66.22, 67.69, 68.93, 70.42, 72, 71.581, 72.95, 75.651, 76.423, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Austria               </td><td>Europe</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 66.800, 67.480, 69.540, 70.140, 70.630, 72.170, 73.180, 74.940, 76.040, 77.510, 78.980, 79.829, 6927772.000, 6965860.000, 7129864.000, 7376998.000, 7544201.000, 7568430.000, 7574613.000, 7578903.000, 7914969.000, 8069876.000, 8148312.000, 8199783.000, 6137.076, 8842.598, 10750.721, 12834.602, 16661.626, 19749.422, 21597.084, 23687.826, 27042.019, 29095.921, 32417.608, 36126.493</td><td>-405.9205, 0.2419923, 0.3515385, -0.1784231, 0.6716154, 0.06165385, -0.6583077, -0.3282692, -0.5282308, 0.02180769, -0.08815385, 0.1718846, 0.4319231, 0.07096154, -253.2371, 14.46904, 0.6311732, 0.004321666, -0.7325299, -0.4193814, -0.636233, -0.1030846, -0.2299361, 0.01321234, 0.2563608, -0.1214908, 2, 66.44846, 67.65842, 68.86838, 70.07835, 71.28831, 72.49827, 73.70823, 74.91819, 76.12815, 77.33812, 78.54808, 79.75804, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 66.8, 67.48, 69.54, 70.14, 70.63, 72.17, 73.18, 74.94, 76.04, 77.51, 78.98, 79.829, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Belgium               </td><td>Europe</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 68.000, 69.240, 70.250, 70.940, 71.440, 72.800, 73.930, 75.350, 76.460, 77.530, 78.320, 79.441, 8730405.000, 8989111.000, 9218400.000, 9556500.000, 9709100.000, 9821800.000, 9856303.000, 9870200.000, 10045622.000, 10199787.000, 10311970.000, 10392226.000, 8343.105, 9714.961, 10991.207, 13149.041, 16672.144, 19117.974, 20979.846, 22525.563, 25575.571, 27561.197, 30485.884, 33692.605</td><td>-340.2412, 0.2090846, 0.1080769, 0.3026538, 0.2672308, -0.08819231, -0.6336154, -0.3190385, -0.2344615, 0.1401154, 0.2046923, 0.2292692, -0.02615385, 0.04942308, -255.1025, 12.50144, 0.2015463, -0.1355897, -0.6627256, -0.3298616, -0.2269975, 0.1658665, 0.2487306, 0.2915946, 0.05445866, 0.1483227, 2, 67.89192, 68.93735, 69.98277, 71.02819, 72.07362, 73.11904, 74.16446, 75.20988, 76.25531, 77.30073, 78.34615, 79.39158, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 68, 69.24, 70.25, 70.94, 71.44, 72.8, 73.93, 75.35, 76.46, 77.53, 78.32, 79.441, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Bosnia and Herzegovina</td><td>Europe</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 53.8200, 58.4500, 61.9300, 64.7900, 67.4500, 69.8600, 70.6900, 71.1400, 72.1780, 73.2440, 74.0900, 74.8520, 2791000.0000, 3076000.0000, 3349000.0000, 3585000.0000, 3819000.0000, 4086000.0000, 4172693.0000, 4338977.0000, 4256013.0000, 3607000.0000, 4165416.0000, 4552198.0000, 973.5332, 1353.9892, 1709.6837, 2172.3524, 2860.1698, 3528.4813, 4126.6132, 4314.1148, 2546.7814, 4766.3559, 6018.9752, 7446.2988</td><td>-624.6327, 0.3497552, -4.269564, -1.38834, 0.3428834, 1.454107, 2.365331, 3.026555, 2.107779, 0.8090023, 0.09822611, -0.5845501, -1.487326, -2.474103, -234.5468, 20.91232, 1.36364, 2.446497, 3.329354, 3.962211, 3.015068, 1.687925, 0.9487816, 0.2376386, -0.6935044, -1.708647, 2, 58.08956, 59.83834, 61.58712, 63.33589, 65.08467, 66.83345, 68.58222, 70.331, 72.07977, 73.82855, 75.57733, 77.3261, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 53.82, 58.45, 61.93, 64.79, 67.45, 69.86, 70.69, 71.14, 72.178, 73.244, 74.09, 74.852, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Bulgaria              </td><td>Europe</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 59.600, 66.610, 69.510, 70.420, 70.900, 70.810, 71.080, 71.340, 71.190, 70.320, 72.140, 73.005, 7274900.000, 7651254.000, 8012946.000, 8310226.000, 8576200.000, 8797022.000, 8892098.000, 8971958.000, 8658506.000, 8066057.000, 7661799.000, 7322858.000, 2444.287, 3008.671, 4254.338, 5577.003, 6597.494, 7612.240, 8224.192, 8239.855, 6302.623, 5970.389, 7696.778, 10680.793</td><td>-218.6473, 0.1456888, -6.137308, 0.1442483, 2.315804, 2.49736, 2.248916, 1.430472, 0.972028, 0.5035839, -0.3748601, -1.973304, -0.8817483, -0.7451923, -241.5994, 8.710924, 3.464353, 3.745675, 3.596997, 2.87832, 2.519642, 2.150964, 1.372286, -0.1263916, 1.064931, 1.301253, 2, 65.73731, 66.46575, 67.1942, 67.92264, 68.65108, 69.37953, 70.10797, 70.83642, 71.56486, 72.2933, 73.02175, 73.75019, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 59.6, 66.61, 69.51, 70.42, 70.9, 70.81, 71.08, 71.34, 71.19, 70.32, 72.14, 73.005, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Croatia               </td><td>Europe</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 61.210, 64.770, 67.130, 68.500, 69.610, 70.640, 70.460, 71.520, 72.527, 73.680, 74.876, 75.748, 3882229.000, 3991242.000, 4076557.000, 4174366.000, 4225310.000, 4318673.000, 4413368.000, 4484310.000, 4494013.000, 4444595.000, 4481020.000, 4493312.000, 3119.237, 4338.232, 5477.890, 6960.298, 9164.090, 11305.385, 13221.822, 13822.584, 8447.795, 9875.605, 11628.389, 14619.223</td><td>-376.241, 0.2254594, -2.645782, -0.2130793, 1.019624, 1.262326, 1.245029, 1.147732, -0.1595653, -0.2268625, -0.3471597, -0.3214569, -0.2527541, -0.5080513, -242.6808, 13.48051, 1.555762, 1.823395, 1.831029, 1.758662, 0.4762956, 0.4339291, 0.3385627, 0.3891962, 0.4828297, 0.2524632, 2, 63.85578, 64.98308, 66.11038, 67.23767, 68.36497, 69.49227, 70.61957, 71.74686, 72.87416, 74.00146, 75.12875, 76.25605, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 61.21, 64.77, 67.13, 68.5, 69.61, 70.64, 70.46, 71.52, 72.527, 73.68, 74.876, 75.748, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="fu">arrange</span>(continent, country) <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3"></a>head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 4</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Algeria     </td><td>Africa</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td><td>-1067.859, 0.5692797, -0.2979744, -0.536373, -0.7647716, -0.5071702, -0.2425688, 0.4070326, 0.914634, 2.499235, 1.597837, 0.1594382, -0.8449604, -2.384359, -204.4865, 34.03798, -0.6280719, -0.4013136, -0.1675554, 0.4512029, 0.9279612, 2.481719, 1.549478, 0.08023599, -0.9550057, -2.525247, 2, 43.37497, 46.22137, 49.06777, 51.91417, 54.76057, 57.60697, 60.45337, 63.29976, 66.14616, 68.99256, 71.83896, 74.68536, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Angola      </td><td>Africa</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td><td>-376.5048, 0.2093399, -2.111654, -1.174353, -0.2200524, 0.7182483, 1.614549, 2.12285, 1.53515, 0.452451, 0.1467517, -0.5839476, -1.590647, -0.9093462, -131.2323, 12.5167, 0.3574398, 1.24968, 2.099921, 2.562161, 1.928402, 0.799642, 0.4478825, -0.3288771, -1.381637, -0.7463962, 2, 32.12665, 33.17335, 34.22005, 35.26675, 36.31345, 37.36015, 38.40685, 39.45355, 40.50025, 41.54695, 42.59365, 43.64035, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 30.015, 31.999, 34, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Benin       </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 38.2230, 40.3580, 42.6180, 44.8850, 47.0140, 49.1900, 50.9040, 52.3370, 53.9190, 54.7770, 54.4060, 56.7280, 1738315.0000, 1925173.0000, 2151895.0000, 2427334.0000, 2761407.0000, 3168267.0000, 3641603.0000, 4243788.0000, 4981671.0000, 6066080.0000, 7026113.0000, 8078314.0000, 1062.7522, 959.6011, 949.4991, 1035.8314, 1085.7969, 1029.1613, 1277.8976, 1225.8560, 1191.2077, 1232.9753, 1372.8779, 1441.2849</td><td>-612.834, 0.3342329, -1.365513, -0.9016772, -0.3128415, 0.2829942, 0.7408298, 1.245666, 1.288501, 1.050337, 0.9611725, 0.1480082, -1.894156, -1.243321, -168.9786, 19.98422, 0.08178907, 0.6384955, 1.057202, 1.522908, 1.526615, 1.249321, 1.121028, 0.2687342, -1.812559, -1.200853, 2, 39.58851, 41.25968, 42.93084, 44.60201, 46.27317, 47.94433, 49.6155, 51.28666, 52.95783, 54.62899, 56.30016, 57.97132, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 38.223, 40.358, 42.618, 44.885, 47.014, 49.19, 50.904, 52.337, 53.919, 54.777, 54.406, 56.728, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Botswana    </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 47.6220, 49.6180, 51.5200, 53.2980, 56.0240, 59.3190, 61.4840, 63.6220, 62.7450, 52.5560, 46.6340, 50.7280, 442308.0000, 474639.0000, 512764.0000, 553541.0000, 619351.0000, 781472.0000, 970347.0000, 1151184.0000, 1342614.0000, 1536536.0000, 1630347.0000, 1639131.0000, 851.2411, 918.2325, 983.6540, 1214.7093, 2263.6111, 3214.8578, 4551.1421, 6205.8839, 7954.1116, 8647.1423, 11003.6051, 12569.8518</td><td>-65.49586, 0.06066853, -5.307115, -3.614458, -2.015801, -0.5411434, 1.881514, 4.873171, 6.734829, 8.569486, 7.389143, -3.103199, -9.328542, -5.537885, -189.1313, 3.627451, -0.4656616, 0.8496905, 3.113043, 5.945395, 7.647747, 9.323099, 7.983451, -2.668197, -9.052845, -5.421493, 2, 52.92912, 53.23246, 53.5358, 53.83914, 54.14249, 54.44583, 54.74917, 55.05251, 55.35586, 55.6592, 55.96254, 56.26588, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 47.622, 49.618, 51.52, 53.298, 56.024, 59.319, 61.484, 63.622, 62.745, 52.556, 46.634, 50.728, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Burkina Faso</td><td>Africa</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 3.197500e+01, 3.490600e+01, 3.781400e+01, 4.069700e+01, 4.359100e+01, 4.613700e+01, 4.812200e+01, 4.955700e+01, 5.026000e+01, 5.032400e+01, 5.065000e+01, 5.229500e+01, 4.469979e+06, 4.713416e+06, 4.919632e+06, 5.127935e+06, 5.433886e+06, 5.889574e+06, 6.634596e+06, 7.586551e+06, 8.878303e+06, 1.035284e+07, 1.225121e+07, 1.432620e+07, 5.432552e+02, 6.171835e+02, 7.225120e+02, 7.948266e+02, 8.547360e+02, 7.433870e+02, 8.071986e+02, 9.120631e+02, 9.317528e+02, 9.462950e+02, 1.037645e+03, 1.217033e+03</td><td>-675.7942, 0.3639748, -2.709692, -1.598566, -0.5104406, 0.5526853, 1.626811, 2.352937, 2.518063, 2.133189, 1.016315, -0.7395594, -2.233434, -2.408308, -154.8246, 21.76253, 0.2442503, 1.242254, 2.251257, 2.91226, 3.012263, 2.562267, 1.38027, -0.4407268, -1.999723, -2.23972, 2, 34.68469, 36.50457, 38.32444, 40.14431, 41.96419, 43.78406, 45.60394, 47.42381, 49.24369, 51.06356, 52.88343, 54.70331, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 31.975, 34.906, 37.814, 40.697, 43.591, 46.137, 48.122, 49.557, 50.26, 50.324, 50.65, 52.295, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
    <tr><td>Burundi     </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 39.0310, 40.5330, 42.0450, 43.5480, 44.0570, 45.9100, 47.4710, 48.2110, 44.7360, 45.3260, 47.3600, 49.5800, 2445618.0000, 2667518.0000, 2961915.0000, 3330989.0000, 3529983.0000, 3834415.0000, 4580410.0000, 5126023.0000, 5809236.0000, 6121610.0000, 7021078.0000, 8390505.0000, 339.2965, 379.5646, 355.2032, 412.9775, 464.0995, 556.1033, 559.6032, 621.8188, 631.6999, 463.1151, 446.4035, 430.0707</td><td>-260.2914, 0.1541343, -1.547641, -0.8163124, -0.07498368, 0.657345, 0.3956737, 1.478002, 2.268331, 2.23766, -2.008012, -2.188683, -0.9253543, 0.5239744, -155.2518, 9.215889, 0.3416532, 1.043139, 0.750624, 1.802109, 2.561595, 2.50008, -1.776435, -1.987949, -0.7554638, 0.6630216, 2, 40.57864, 41.34931, 42.11998, 42.89066, 43.66133, 44.432, 45.20267, 45.97334, 46.74401, 47.51468, 48.28535, 49.05603, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 39.031, 40.533, 42.045, 43.548, 44.057, 45.91, 47.471, 48.211, 44.736, 45.326, 47.36, 49.58, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>데이터프레임의 리스트와 모델의 리스트가 분리된 객체인 경우, 하나의 벡터를 재정렬하거나 하위 집합으로 만들 때마다 동기화하기 위해 다른 모든 것을 재정렬하거나 하위 집합으로 만들어야 한다. 만약 이 부분을 놓치게 된다면 코드는 계속 작동하지만 잘못된 결과를 제공할 것이다.</li>
</ul>
</section>
<section id="중첩-해제하기unnesting" class="level3">
<h3 class="anchored" data-anchor-id="중첩-해제하기unnesting">중첩 해제하기(Unnesting)</h3>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>by_country <span class="ot">&lt;-</span> by_country <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="fu">mutate</span>(</span>
<span id="cb16-3"><a href="#cb16-3"></a>    <span class="at">resids =</span> <span class="fu">map2</span>(data, model, add_residuals)</span>
<span id="cb16-4"><a href="#cb16-4"></a>    )</span>
<span id="cb16-5"><a href="#cb16-5"></a>by_country <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 5</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th><th scope="col">resids</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02, -1.106295e+00, -9.519382e-01, -6.635816e-01, -1.722494e-02, 6.741317e-01, 1.647488e+00, 1.686845e+00, 1.278202e+00, 7.535583e-01, -5.340851e-01, -1.544728e+00, -1.222372e+00</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td><td>-594.0725, 0.3346832, -3.999128, -1.622544, 2.24404, 1.970624, 1.767207, 1.333791, 1.150375, 1.056959, -1.035457, -1.339873, -0.312289, -1.213705, -237.0586, 20.01115, 3.248124, 2.926981, 2.675838, 2.194694, 1.963551, 1.822408, -0.3177351, -0.6698783, 0.3099785, -0.6391646, 2, 59.22913, 60.90254, 62.57596, 64.24938, 65.92279, 67.59621, 69.26962, 70.94304, 72.61646, 74.28987, 75.96329, 77.63671, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 55.23, 59.28, 64.82, 66.22, 67.69, 68.93, 70.42, 72, 71.581, 72.95, 75.651, 76.423, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 5.523000e+01, 5.928000e+01, 6.482000e+01, 6.622000e+01, 6.769000e+01, 6.893000e+01, 7.042000e+01, 7.200000e+01, 7.158100e+01, 7.295000e+01, 7.565100e+01, 7.642300e+01, 1.282697e+06, 1.476505e+06, 1.728137e+06, 1.984060e+06, 2.263554e+06, 2.509048e+06, 2.780097e+06, 3.075321e+06, 3.326498e+06, 3.428038e+06, 3.508512e+06, 3.600523e+06, 1.601056e+03, 1.942284e+03, 2.312889e+03, 2.760197e+03, 3.313422e+03, 3.533004e+03, 3.630881e+03, 3.738933e+03, 2.497438e+03, 3.193055e+03, 4.604212e+03, 5.937030e+03, -3.999128e+00, -1.622544e+00, 2.244040e+00, 1.970624e+00, 1.767207e+00, 1.333791e+00, 1.150375e+00, 1.056959e+00, -1.035457e+00, -1.339873e+00, -3.122890e-01, -1.213705e+00</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td><td>-1067.859, 0.5692797, -0.2979744, -0.536373, -0.7647716, -0.5071702, -0.2425688, 0.4070326, 0.914634, 2.499235, 1.597837, 0.1594382, -0.8449604, -2.384359, -204.4865, 34.03798, -0.6280719, -0.4013136, -0.1675554, 0.4512029, 0.9279612, 2.481719, 1.549478, 0.08023599, -0.9550057, -2.525247, 2, 43.37497, 46.22137, 49.06777, 51.91417, 54.76057, 57.60697, 60.45337, 63.29976, 66.14616, 68.99256, 71.83896, 74.68536, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.307700e+01, 4.568500e+01, 4.830300e+01, 5.140700e+01, 5.451800e+01, 5.801400e+01, 6.136800e+01, 6.579900e+01, 6.774400e+01, 6.915200e+01, 7.099400e+01, 7.230100e+01, 9.279525e+06, 1.027086e+07, 1.100095e+07, 1.276050e+07, 1.476079e+07, 1.715280e+07, 2.003375e+07, 2.325496e+07, 2.629837e+07, 2.907202e+07, 3.128714e+07, 3.333322e+07, 2.449008e+03, 3.013976e+03, 2.550817e+03, 3.246992e+03, 4.182664e+03, 4.910417e+03, 5.745160e+03, 5.681359e+03, 5.023217e+03, 4.797295e+03, 5.288040e+03, 6.223367e+03, -2.979744e-01, -5.363730e-01, -7.647716e-01, -5.071702e-01, -2.425688e-01, 4.070326e-01, 9.146340e-01, 2.499235e+00, 1.597837e+00, 1.594382e-01, -8.449604e-01, -2.384359e+00</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td><td>-376.5048, 0.2093399, -2.111654, -1.174353, -0.2200524, 0.7182483, 1.614549, 2.12285, 1.53515, 0.452451, 0.1467517, -0.5839476, -1.590647, -0.9093462, -131.2323, 12.5167, 0.3574398, 1.24968, 2.099921, 2.562161, 1.928402, 0.799642, 0.4478825, -0.3288771, -1.381637, -0.7463962, 2, 32.12665, 33.17335, 34.22005, 35.26675, 36.31345, 37.36015, 38.40685, 39.45355, 40.50025, 41.54695, 42.59365, 43.64035, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 30.015, 31.999, 34, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 3.001500e+01, 3.199900e+01, 3.400000e+01, 3.598500e+01, 3.792800e+01, 3.948300e+01, 3.994200e+01, 3.990600e+01, 4.064700e+01, 4.096300e+01, 4.100300e+01, 4.273100e+01, 4.232095e+06, 4.561361e+06, 4.826015e+06, 5.247469e+06, 5.894858e+06, 6.162675e+06, 7.016384e+06, 7.874230e+06, 8.735988e+06, 9.875024e+06, 1.086611e+07, 1.242048e+07, 3.520610e+03, 3.827940e+03, 4.269277e+03, 5.522776e+03, 5.473288e+03, 3.008647e+03, 2.756954e+03, 2.430208e+03, 2.627846e+03, 2.277141e+03, 2.773287e+03, 4.797231e+03, -2.111654e+00, -1.174353e+00, -2.200524e-01, 7.182483e-01, 1.614549e+00, 2.122850e+00, 1.535150e+00, 4.524510e-01, 1.467517e-01, -5.839476e-01, -1.590647e+00, -9.093462e-01</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td><td>-389.6063, 0.2317084, -0.2034359, 0.5520221, 0.1364802, -0.5300618, -0.2576037, -0.0001456876, 0.3023124, -0.0242296, -0.08877156, 0.1596865, 0.06614452, -0.1123974, -239.2323, 13.85415, 0.09303993, -0.5342543, -0.2225486, 0.07415714, 0.4158629, 0.1285686, 0.1032744, 0.3909801, 0.3366858, 0.1973916, 2, 62.68844, 63.84698, 65.00552, 66.16406, 67.3226, 68.48115, 69.63969, 70.79823, 71.95677, 73.11531, 74.27386, 75.4324, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.34, 75.32, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.248500e+01, 6.439900e+01, 6.514200e+01, 6.563400e+01, 6.706500e+01, 6.848100e+01, 6.994200e+01, 7.077400e+01, 7.186800e+01, 7.327500e+01, 7.434000e+01, 7.532000e+01, 1.787696e+07, 1.961054e+07, 2.128378e+07, 2.293422e+07, 2.477980e+07, 2.698383e+07, 2.934137e+07, 3.162092e+07, 3.395895e+07, 3.620346e+07, 3.833112e+07, 4.030193e+07, 5.911315e+03, 6.856856e+03, 7.133166e+03, 8.052953e+03, 9.443039e+03, 1.007903e+04, 8.997897e+03, 9.139671e+03, 9.308419e+03, 1.096728e+04, 8.797641e+03, 1.277938e+04, -2.034359e-01, 5.520221e-01, 1.364802e-01, -5.300618e-01, -2.576037e-01, -1.456876e-04, 3.023124e-01, -2.422960e-02, -8.877156e-02, 1.596865e-01, 6.614452e-02, -1.123974e-01</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td><td>-376.1163, 0.2277238, 0.7194872, 0.7908683, 0.2522494, -0.7163695, -1.024988, -0.6036072, -0.4922261, -0.05084499, 0.05053613, 0.1819172, 0.5832984, 0.3096795, -258.6399, 13.6159, -0.002715871, -0.9299787, -1.197241, -0.7345042, -0.581767, -0.09902982, 0.04370739, 0.2164446, 0.6591818, 0.426919, 2, 68.40051, 69.53913, 70.67775, 71.81637, 72.95499, 74.09361, 75.23223, 76.37084, 77.50946, 78.64808, 79.7867, 80.92532, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 69.12, 70.33, 70.93, 71.1, 71.93, 73.49, 74.74, 76.32, 77.56, 78.83, 80.37, 81.235, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.912000e+01, 7.033000e+01, 7.093000e+01, 7.110000e+01, 7.193000e+01, 7.349000e+01, 7.474000e+01, 7.632000e+01, 7.756000e+01, 7.883000e+01, 8.037000e+01, 8.123500e+01, 8.691212e+06, 9.712569e+06, 1.079497e+07, 1.187226e+07, 1.317700e+07, 1.407410e+07, 1.518420e+07, 1.625725e+07, 1.748198e+07, 1.856524e+07, 1.954679e+07, 2.043418e+07, 1.003960e+04, 1.094965e+04, 1.221723e+04, 1.452612e+04, 1.678863e+04, 1.833420e+04, 1.947701e+04, 2.188889e+04, 2.342477e+04, 2.699794e+04, 3.068775e+04, 3.443537e+04, 7.194872e-01, 7.908683e-01, 2.522494e-01, -7.163695e-01, -1.024988e+00, -6.036072e-01, -4.922261e-01, -5.084499e-02, 5.053613e-02, 1.819172e-01, 5.832984e-01, 3.096795e-01</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>데이터프레임 리스트를 플롯으로 나타내기</li>
</ul>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>resids <span class="ot">&lt;-</span> <span class="fu">unnest</span>(by_country, resids)</span>
<span id="cb17-2"><a href="#cb17-2"></a>resids <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 9</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th><th scope="col">year</th><th scope="col">lifeExp</th><th scope="col">pop</th><th scope="col">gdpPercap</th><th scope="col">resid</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1952</td><td>28.801</td><td> 8425333</td><td>779.4453</td><td>-1.10629487</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1957</td><td>30.332</td><td> 9240934</td><td>820.8530</td><td>-0.95193823</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1962</td><td>31.997</td><td>10267083</td><td>853.1007</td><td>-0.66358159</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1967</td><td>34.020</td><td>11537966</td><td>836.1971</td><td>-0.01722494</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1972</td><td>36.088</td><td>13079460</td><td>739.9811</td><td> 0.67413170</td></tr>
    <tr><td>Afghanistan</td><td>Asia</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1977</td><td>38.438</td><td>14880372</td><td>786.1134</td><td> 1.64748834</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>보통의 열은 중첩된 열의 행으로 한 번씩 반복되지만 이제는 일반적인 데이터프레임을 가지고 있으므로 잔차를 플롯으로 나타낼 수 있다.</li>
</ul>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>resids <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, resid)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> country), <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = "cs")'
</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-18-output-2.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>플롯을 대륙으로 면분할하면 더 잘 나타난다.</li>
</ul>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>resids <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, resid, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="fu">facet_wrap</span>(<span class="sc">~</span>continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-19-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>플롯을 보면 가벼운 패턴은 포착하지 못한 것처럼 보인다. 또한, 아프리카 대륙의 플롯에서는 매우 큰 잔차값을 일부 볼 수 있으며, 이는 그 값에 대해 모델이 잘 맞지 않는다는 흥미로운 점을 발견할 수 있다.</li>
</ul>
</section>
<section id="모델의-성능" class="level3">
<h3 class="anchored" data-anchor-id="모델의-성능">모델의 성능</h3>
<p>모델의 잔차를 탐색하는 대신, 모델의 성능에 대한 일반적인 측정값을 살펴볼 수 있다.<br> <code>broom</code>패키지는 모델을 많은 타이디 데이터로 전환하는 일반적인 함수들을 제공한다.<br> <br> <code>broom::glance()</code> : 모델의 성능 메트릭을 추출하기 위해 사용<br> 이 함수를 모델에 적용하면 한 줄로 이루어진 데이터프레임이 생성된다.</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>broom<span class="sc">::</span><span class="fu">glance</span>(nz_mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 1 × 12</caption>
<thead>
    <tr><th scope="col">r.squared</th><th scope="col">adj.r.squared</th><th scope="col">sigma</th><th scope="col">statistic</th><th scope="col">p.value</th><th scope="col">df</th><th scope="col">logLik</th><th scope="col">AIC</th><th scope="col">BIC</th><th scope="col">deviance</th><th scope="col">df.residual</th><th scope="col">nobs</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>0.9535846</td><td>0.9489431</td><td>0.8043472</td><td>205.4459</td><td>5.407324e-08</td><td>1</td><td>-13.32064</td><td>32.64128</td><td>34.096</td><td>6.469743</td><td>10</td><td>12</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><code>mutate()</code>와 <code>unnest()</code>를 사용하여 국가별로 하나의 행이 존재하는 데이터프레임을 만들 수 있다.</li>
</ul>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>by_country <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="fu">mutate</span>(<span class="at">glance =</span> <span class="fu">map</span>(model, broom<span class="sc">::</span>glance)) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="fu">unnest</span>(glance) <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 17</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th><th scope="col">resids</th><th scope="col">r.squared</th><th scope="col">adj.r.squared</th><th scope="col">sigma</th><th scope="col">statistic</th><th scope="col">p.value</th><th scope="col">df</th><th scope="col">logLik</th><th scope="col">AIC</th><th scope="col">BIC</th><th scope="col">deviance</th><th scope="col">df.residual</th><th scope="col">nobs</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02, -1.106295e+00, -9.519382e-01, -6.635816e-01, -1.722494e-02, 6.741317e-01, 1.647488e+00, 1.686845e+00, 1.278202e+00, 7.535583e-01, -5.340851e-01, -1.544728e+00, -1.222372e+00</td><td>0.9477123</td><td>0.9424835</td><td>1.2227880</td><td> 181.24941</td><td>9.835213e-08</td><td>1</td><td>-18.346935</td><td>42.693870</td><td>44.148590</td><td>14.9521045</td><td>10</td><td>12</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td><td>-594.0725, 0.3346832, -3.999128, -1.622544, 2.24404, 1.970624, 1.767207, 1.333791, 1.150375, 1.056959, -1.035457, -1.339873, -0.312289, -1.213705, -237.0586, 20.01115, 3.248124, 2.926981, 2.675838, 2.194694, 1.963551, 1.822408, -0.3177351, -0.6698783, 0.3099785, -0.6391646, 2, 59.22913, 60.90254, 62.57596, 64.24938, 65.92279, 67.59621, 69.26962, 70.94304, 72.61646, 74.28987, 75.96329, 77.63671, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 55.23, 59.28, 64.82, 66.22, 67.69, 68.93, 70.42, 72, 71.581, 72.95, 75.651, 76.423, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 5.523000e+01, 5.928000e+01, 6.482000e+01, 6.622000e+01, 6.769000e+01, 6.893000e+01, 7.042000e+01, 7.200000e+01, 7.158100e+01, 7.295000e+01, 7.565100e+01, 7.642300e+01, 1.282697e+06, 1.476505e+06, 1.728137e+06, 1.984060e+06, 2.263554e+06, 2.509048e+06, 2.780097e+06, 3.075321e+06, 3.326498e+06, 3.428038e+06, 3.508512e+06, 3.600523e+06, 1.601056e+03, 1.942284e+03, 2.312889e+03, 2.760197e+03, 3.313422e+03, 3.533004e+03, 3.630881e+03, 3.738933e+03, 2.497438e+03, 3.193055e+03, 4.604212e+03, 5.937030e+03, -3.999128e+00, -1.622544e+00, 2.244040e+00, 1.970624e+00, 1.767207e+00, 1.333791e+00, 1.150375e+00, 1.056959e+00, -1.035457e+00, -1.339873e+00, -3.122890e-01, -1.213705e+00</td><td>0.9105778</td><td>0.9016355</td><td>1.9830615</td><td> 101.82901</td><td>1.462763e-06</td><td>1</td><td>-24.149036</td><td>54.298071</td><td>55.752791</td><td>39.3253302</td><td>10</td><td>12</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td><td>-1067.859, 0.5692797, -0.2979744, -0.536373, -0.7647716, -0.5071702, -0.2425688, 0.4070326, 0.914634, 2.499235, 1.597837, 0.1594382, -0.8449604, -2.384359, -204.4865, 34.03798, -0.6280719, -0.4013136, -0.1675554, 0.4512029, 0.9279612, 2.481719, 1.549478, 0.08023599, -0.9550057, -2.525247, 2, 43.37497, 46.22137, 49.06777, 51.91417, 54.76057, 57.60697, 60.45337, 63.29976, 66.14616, 68.99256, 71.83896, 74.68536, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.307700e+01, 4.568500e+01, 4.830300e+01, 5.140700e+01, 5.451800e+01, 5.801400e+01, 6.136800e+01, 6.579900e+01, 6.774400e+01, 6.915200e+01, 7.099400e+01, 7.230100e+01, 9.279525e+06, 1.027086e+07, 1.100095e+07, 1.276050e+07, 1.476079e+07, 1.715280e+07, 2.003375e+07, 2.325496e+07, 2.629837e+07, 2.907202e+07, 3.128714e+07, 3.333322e+07, 2.449008e+03, 3.013976e+03, 2.550817e+03, 3.246992e+03, 4.182664e+03, 4.910417e+03, 5.745160e+03, 5.681359e+03, 5.023217e+03, 4.797295e+03, 5.288040e+03, 6.223367e+03, -2.979744e-01, -5.363730e-01, -7.647716e-01, -5.071702e-01, -2.425688e-01, 4.070326e-01, 9.146340e-01, 2.499235e+00, 1.597837e+00, 1.594382e-01, -8.449604e-01, -2.384359e+00</td><td>0.9851172</td><td>0.9836289</td><td>1.3230064</td><td> 661.91709</td><td>1.808143e-10</td><td>1</td><td>-19.292214</td><td>44.584427</td><td>46.039147</td><td>17.5034589</td><td>10</td><td>12</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td><td>-376.5048, 0.2093399, -2.111654, -1.174353, -0.2200524, 0.7182483, 1.614549, 2.12285, 1.53515, 0.452451, 0.1467517, -0.5839476, -1.590647, -0.9093462, -131.2323, 12.5167, 0.3574398, 1.24968, 2.099921, 2.562161, 1.928402, 0.799642, 0.4478825, -0.3288771, -1.381637, -0.7463962, 2, 32.12665, 33.17335, 34.22005, 35.26675, 36.31345, 37.36015, 38.40685, 39.45355, 40.50025, 41.54695, 42.59365, 43.64035, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 30.015, 31.999, 34, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 3.001500e+01, 3.199900e+01, 3.400000e+01, 3.598500e+01, 3.792800e+01, 3.948300e+01, 3.994200e+01, 3.990600e+01, 4.064700e+01, 4.096300e+01, 4.100300e+01, 4.273100e+01, 4.232095e+06, 4.561361e+06, 4.826015e+06, 5.247469e+06, 5.894858e+06, 6.162675e+06, 7.016384e+06, 7.874230e+06, 8.735988e+06, 9.875024e+06, 1.086611e+07, 1.242048e+07, 3.520610e+03, 3.827940e+03, 4.269277e+03, 5.522776e+03, 5.473288e+03, 3.008647e+03, 2.756954e+03, 2.430208e+03, 2.627846e+03, 2.277141e+03, 2.773287e+03, 4.797231e+03, -2.111654e+00, -1.174353e+00, -2.200524e-01, 7.182483e-01, 1.614549e+00, 2.122850e+00, 1.535150e+00, 4.524510e-01, 1.467517e-01, -5.839476e-01, -1.590647e+00, -9.093462e-01</td><td>0.8878146</td><td>0.8765961</td><td>1.4070091</td><td>  79.13818</td><td>4.593498e-06</td><td>1</td><td>-20.030928</td><td>46.061857</td><td>47.516577</td><td>19.7967471</td><td>10</td><td>12</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td><td>-389.6063, 0.2317084, -0.2034359, 0.5520221, 0.1364802, -0.5300618, -0.2576037, -0.0001456876, 0.3023124, -0.0242296, -0.08877156, 0.1596865, 0.06614452, -0.1123974, -239.2323, 13.85415, 0.09303993, -0.5342543, -0.2225486, 0.07415714, 0.4158629, 0.1285686, 0.1032744, 0.3909801, 0.3366858, 0.1973916, 2, 62.68844, 63.84698, 65.00552, 66.16406, 67.3226, 68.48115, 69.63969, 70.79823, 71.95677, 73.11531, 74.27386, 75.4324, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.34, 75.32, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.248500e+01, 6.439900e+01, 6.514200e+01, 6.563400e+01, 6.706500e+01, 6.848100e+01, 6.994200e+01, 7.077400e+01, 7.186800e+01, 7.327500e+01, 7.434000e+01, 7.532000e+01, 1.787696e+07, 1.961054e+07, 2.128378e+07, 2.293422e+07, 2.477980e+07, 2.698383e+07, 2.934137e+07, 3.162092e+07, 3.395895e+07, 3.620346e+07, 3.833112e+07, 4.030193e+07, 5.911315e+03, 6.856856e+03, 7.133166e+03, 8.052953e+03, 9.443039e+03, 1.007903e+04, 8.997897e+03, 9.139671e+03, 9.308419e+03, 1.096728e+04, 8.797641e+03, 1.277938e+04, -2.034359e-01, 5.520221e-01, 1.364802e-01, -5.300618e-01, -2.576037e-01, -1.456876e-04, 3.023124e-01, -2.422960e-02, -8.877156e-02, 1.596865e-01, 6.614452e-02, -1.123974e-01</td><td>0.9955681</td><td>0.9951249</td><td>0.2923072</td><td>2246.36635</td><td>4.215567e-13</td><td>1</td><td> -1.173933</td><td> 8.347866</td><td> 9.802586</td><td> 0.8544349</td><td>10</td><td>12</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td><td>-376.1163, 0.2277238, 0.7194872, 0.7908683, 0.2522494, -0.7163695, -1.024988, -0.6036072, -0.4922261, -0.05084499, 0.05053613, 0.1819172, 0.5832984, 0.3096795, -258.6399, 13.6159, -0.002715871, -0.9299787, -1.197241, -0.7345042, -0.581767, -0.09902982, 0.04370739, 0.2164446, 0.6591818, 0.426919, 2, 68.40051, 69.53913, 70.67775, 71.81637, 72.95499, 74.09361, 75.23223, 76.37084, 77.50946, 78.64808, 79.7867, 80.92532, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 69.12, 70.33, 70.93, 71.1, 71.93, 73.49, 74.74, 76.32, 77.56, 78.83, 80.37, 81.235, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.912000e+01, 7.033000e+01, 7.093000e+01, 7.110000e+01, 7.193000e+01, 7.349000e+01, 7.474000e+01, 7.632000e+01, 7.756000e+01, 7.883000e+01, 8.037000e+01, 8.123500e+01, 8.691212e+06, 9.712569e+06, 1.079497e+07, 1.187226e+07, 1.317700e+07, 1.407410e+07, 1.518420e+07, 1.625725e+07, 1.748198e+07, 1.856524e+07, 1.954679e+07, 2.043418e+07, 1.003960e+04, 1.094965e+04, 1.221723e+04, 1.452612e+04, 1.678863e+04, 1.833420e+04, 1.947701e+04, 2.188889e+04, 2.342477e+04, 2.699794e+04, 3.068775e+04, 3.443537e+04, 7.194872e-01, 7.908683e-01, 2.522494e-01, -7.163695e-01, -1.024988e+00, -6.036072e-01, -4.922261e-01, -5.084499e-02, 5.053613e-02, 1.819172e-01, 5.832984e-01, 3.096795e-01</td><td>0.9796477</td><td>0.9776125</td><td>0.6206086</td><td> 481.34586</td><td>8.667222e-10</td><td>1</td><td>-10.208677</td><td>26.417353</td><td>27.872073</td><td> 3.8515501</td><td>10</td><td>12</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>그렇지만 여전히 모든 리스트-열을 포함하고 있으므로 이는 우리가 원하는 결과물이 아니다.<br> 이것은 <code>unnest()</code>를 단일 행의 데이터프레임에 적용했을 때의 기본 동작이다. 이 열을 숨기기 위해서는 <code>.drop = TRUE</code>를 사용하면 된다.</li>
</ul>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>glance <span class="ot">&lt;-</span> by_country <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2"></a><span class="fu">mutate</span>(<span class="at">glance =</span> <span class="fu">map</span>(model, broom<span class="sc">::</span>glance)) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="fu">unnest</span>(glance, <span class="at">.drop =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-4"><a href="#cb23-4"></a>glance <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“The `.drop` argument of `unnest()` is deprecated as of tidyr 1.0.0.
All list-columns are now preserved.”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 17</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th><th scope="col">resids</th><th scope="col">r.squared</th><th scope="col">adj.r.squared</th><th scope="col">sigma</th><th scope="col">statistic</th><th scope="col">p.value</th><th scope="col">df</th><th scope="col">logLik</th><th scope="col">AIC</th><th scope="col">BIC</th><th scope="col">deviance</th><th scope="col">df.residual</th><th scope="col">nobs</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td><td>-507.5343, 0.2753287, -1.106295, -0.9519382, -0.6635816, -0.01722494, 0.6741317, 1.647488, 1.686845, 1.278202, 0.7535583, -0.5340851, -1.544728, -1.222372, -129.8305, 16.46226, -0.3108827, 0.2892301, 0.934343, 1.861456, 1.854569, 1.399681, 0.8287943, -0.5050929, -1.56198, -1.285867, 2, 29.90729, 31.28394, 32.66058, 34.03722, 35.41387, 36.79051, 38.16716, 39.5438, 40.92044, 42.29709, 43.67373, 45.05037, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 28.801, 30.332, 31.997, 34.02, 36.088, 38.438, 39.854, 40.822, 41.674, 41.763, 42.129, 43.828, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02, -1.106295e+00, -9.519382e-01, -6.635816e-01, -1.722494e-02, 6.741317e-01, 1.647488e+00, 1.686845e+00, 1.278202e+00, 7.535583e-01, -5.340851e-01, -1.544728e+00, -1.222372e+00</td><td>0.9477123</td><td>0.9424835</td><td>1.2227880</td><td> 181.24941</td><td>9.835213e-08</td><td>1</td><td>-18.346935</td><td>42.693870</td><td>44.148590</td><td>14.9521045</td><td>10</td><td>12</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td><td>-594.0725, 0.3346832, -3.999128, -1.622544, 2.24404, 1.970624, 1.767207, 1.333791, 1.150375, 1.056959, -1.035457, -1.339873, -0.312289, -1.213705, -237.0586, 20.01115, 3.248124, 2.926981, 2.675838, 2.194694, 1.963551, 1.822408, -0.3177351, -0.6698783, 0.3099785, -0.6391646, 2, 59.22913, 60.90254, 62.57596, 64.24938, 65.92279, 67.59621, 69.26962, 70.94304, 72.61646, 74.28987, 75.96329, 77.63671, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 55.23, 59.28, 64.82, 66.22, 67.69, 68.93, 70.42, 72, 71.581, 72.95, 75.651, 76.423, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 5.523000e+01, 5.928000e+01, 6.482000e+01, 6.622000e+01, 6.769000e+01, 6.893000e+01, 7.042000e+01, 7.200000e+01, 7.158100e+01, 7.295000e+01, 7.565100e+01, 7.642300e+01, 1.282697e+06, 1.476505e+06, 1.728137e+06, 1.984060e+06, 2.263554e+06, 2.509048e+06, 2.780097e+06, 3.075321e+06, 3.326498e+06, 3.428038e+06, 3.508512e+06, 3.600523e+06, 1.601056e+03, 1.942284e+03, 2.312889e+03, 2.760197e+03, 3.313422e+03, 3.533004e+03, 3.630881e+03, 3.738933e+03, 2.497438e+03, 3.193055e+03, 4.604212e+03, 5.937030e+03, -3.999128e+00, -1.622544e+00, 2.244040e+00, 1.970624e+00, 1.767207e+00, 1.333791e+00, 1.150375e+00, 1.056959e+00, -1.035457e+00, -1.339873e+00, -3.122890e-01, -1.213705e+00</td><td>0.9105778</td><td>0.9016355</td><td>1.9830615</td><td> 101.82901</td><td>1.462763e-06</td><td>1</td><td>-24.149036</td><td>54.298071</td><td>55.752791</td><td>39.3253302</td><td>10</td><td>12</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td><td>-1067.859, 0.5692797, -0.2979744, -0.536373, -0.7647716, -0.5071702, -0.2425688, 0.4070326, 0.914634, 2.499235, 1.597837, 0.1594382, -0.8449604, -2.384359, -204.4865, 34.03798, -0.6280719, -0.4013136, -0.1675554, 0.4512029, 0.9279612, 2.481719, 1.549478, 0.08023599, -0.9550057, -2.525247, 2, 43.37497, 46.22137, 49.06777, 51.91417, 54.76057, 57.60697, 60.45337, 63.29976, 66.14616, 68.99256, 71.83896, 74.68536, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.307700e+01, 4.568500e+01, 4.830300e+01, 5.140700e+01, 5.451800e+01, 5.801400e+01, 6.136800e+01, 6.579900e+01, 6.774400e+01, 6.915200e+01, 7.099400e+01, 7.230100e+01, 9.279525e+06, 1.027086e+07, 1.100095e+07, 1.276050e+07, 1.476079e+07, 1.715280e+07, 2.003375e+07, 2.325496e+07, 2.629837e+07, 2.907202e+07, 3.128714e+07, 3.333322e+07, 2.449008e+03, 3.013976e+03, 2.550817e+03, 3.246992e+03, 4.182664e+03, 4.910417e+03, 5.745160e+03, 5.681359e+03, 5.023217e+03, 4.797295e+03, 5.288040e+03, 6.223367e+03, -2.979744e-01, -5.363730e-01, -7.647716e-01, -5.071702e-01, -2.425688e-01, 4.070326e-01, 9.146340e-01, 2.499235e+00, 1.597837e+00, 1.594382e-01, -8.449604e-01, -2.384359e+00</td><td>0.9851172</td><td>0.9836289</td><td>1.3230064</td><td> 661.91709</td><td>1.808143e-10</td><td>1</td><td>-19.292214</td><td>44.584427</td><td>46.039147</td><td>17.5034589</td><td>10</td><td>12</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td><td>-376.5048, 0.2093399, -2.111654, -1.174353, -0.2200524, 0.7182483, 1.614549, 2.12285, 1.53515, 0.452451, 0.1467517, -0.5839476, -1.590647, -0.9093462, -131.2323, 12.5167, 0.3574398, 1.24968, 2.099921, 2.562161, 1.928402, 0.799642, 0.4478825, -0.3288771, -1.381637, -0.7463962, 2, 32.12665, 33.17335, 34.22005, 35.26675, 36.31345, 37.36015, 38.40685, 39.45355, 40.50025, 41.54695, 42.59365, 43.64035, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 30.015, 31.999, 34, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 3.001500e+01, 3.199900e+01, 3.400000e+01, 3.598500e+01, 3.792800e+01, 3.948300e+01, 3.994200e+01, 3.990600e+01, 4.064700e+01, 4.096300e+01, 4.100300e+01, 4.273100e+01, 4.232095e+06, 4.561361e+06, 4.826015e+06, 5.247469e+06, 5.894858e+06, 6.162675e+06, 7.016384e+06, 7.874230e+06, 8.735988e+06, 9.875024e+06, 1.086611e+07, 1.242048e+07, 3.520610e+03, 3.827940e+03, 4.269277e+03, 5.522776e+03, 5.473288e+03, 3.008647e+03, 2.756954e+03, 2.430208e+03, 2.627846e+03, 2.277141e+03, 2.773287e+03, 4.797231e+03, -2.111654e+00, -1.174353e+00, -2.200524e-01, 7.182483e-01, 1.614549e+00, 2.122850e+00, 1.535150e+00, 4.524510e-01, 1.467517e-01, -5.839476e-01, -1.590647e+00, -9.093462e-01</td><td>0.8878146</td><td>0.8765961</td><td>1.4070091</td><td>  79.13818</td><td>4.593498e-06</td><td>1</td><td>-20.030928</td><td>46.061857</td><td>47.516577</td><td>19.7967471</td><td>10</td><td>12</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td><td>-389.6063, 0.2317084, -0.2034359, 0.5520221, 0.1364802, -0.5300618, -0.2576037, -0.0001456876, 0.3023124, -0.0242296, -0.08877156, 0.1596865, 0.06614452, -0.1123974, -239.2323, 13.85415, 0.09303993, -0.5342543, -0.2225486, 0.07415714, 0.4158629, 0.1285686, 0.1032744, 0.3909801, 0.3366858, 0.1973916, 2, 62.68844, 63.84698, 65.00552, 66.16406, 67.3226, 68.48115, 69.63969, 70.79823, 71.95677, 73.11531, 74.27386, 75.4324, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.34, 75.32, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.248500e+01, 6.439900e+01, 6.514200e+01, 6.563400e+01, 6.706500e+01, 6.848100e+01, 6.994200e+01, 7.077400e+01, 7.186800e+01, 7.327500e+01, 7.434000e+01, 7.532000e+01, 1.787696e+07, 1.961054e+07, 2.128378e+07, 2.293422e+07, 2.477980e+07, 2.698383e+07, 2.934137e+07, 3.162092e+07, 3.395895e+07, 3.620346e+07, 3.833112e+07, 4.030193e+07, 5.911315e+03, 6.856856e+03, 7.133166e+03, 8.052953e+03, 9.443039e+03, 1.007903e+04, 8.997897e+03, 9.139671e+03, 9.308419e+03, 1.096728e+04, 8.797641e+03, 1.277938e+04, -2.034359e-01, 5.520221e-01, 1.364802e-01, -5.300618e-01, -2.576037e-01, -1.456876e-04, 3.023124e-01, -2.422960e-02, -8.877156e-02, 1.596865e-01, 6.614452e-02, -1.123974e-01</td><td>0.9955681</td><td>0.9951249</td><td>0.2923072</td><td>2246.36635</td><td>4.215567e-13</td><td>1</td><td> -1.173933</td><td> 8.347866</td><td> 9.802586</td><td> 0.8544349</td><td>10</td><td>12</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td><td>-376.1163, 0.2277238, 0.7194872, 0.7908683, 0.2522494, -0.7163695, -1.024988, -0.6036072, -0.4922261, -0.05084499, 0.05053613, 0.1819172, 0.5832984, 0.3096795, -258.6399, 13.6159, -0.002715871, -0.9299787, -1.197241, -0.7345042, -0.581767, -0.09902982, 0.04370739, 0.2164446, 0.6591818, 0.426919, 2, 68.40051, 69.53913, 70.67775, 71.81637, 72.95499, 74.09361, 75.23223, 76.37084, 77.50946, 78.64808, 79.7867, 80.92532, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 69.12, 70.33, 70.93, 71.1, 71.93, 73.49, 74.74, 76.32, 77.56, 78.83, 80.37, 81.235, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 6.912000e+01, 7.033000e+01, 7.093000e+01, 7.110000e+01, 7.193000e+01, 7.349000e+01, 7.474000e+01, 7.632000e+01, 7.756000e+01, 7.883000e+01, 8.037000e+01, 8.123500e+01, 8.691212e+06, 9.712569e+06, 1.079497e+07, 1.187226e+07, 1.317700e+07, 1.407410e+07, 1.518420e+07, 1.625725e+07, 1.748198e+07, 1.856524e+07, 1.954679e+07, 2.043418e+07, 1.003960e+04, 1.094965e+04, 1.221723e+04, 1.452612e+04, 1.678863e+04, 1.833420e+04, 1.947701e+04, 2.188889e+04, 2.342477e+04, 2.699794e+04, 3.068775e+04, 3.443537e+04, 7.194872e-01, 7.908683e-01, 2.522494e-01, -7.163695e-01, -1.024988e+00, -6.036072e-01, -4.922261e-01, -5.084499e-02, 5.053613e-02, 1.819172e-01, 5.832984e-01, 3.096795e-01</td><td>0.9796477</td><td>0.9776125</td><td>0.6206086</td><td> 481.34586</td><td>8.667222e-10</td><td>1</td><td>-10.208677</td><td>26.417353</td><td>27.872073</td><td> 3.8515501</td><td>10</td><td>12</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>유용한 정보가 많이 포함되었지만 인쇄되지 않은 변수에 주목해본다. 이 데이터프레임을 사용하면 잘 맞지 않는 모델을 찾을 수 있다.</li>
</ul>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>glance <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2"></a><span class="fu">arrange</span>(r.squared) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3"></a>head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 17</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th><th scope="col">model</th><th scope="col">resids</th><th scope="col">r.squared</th><th scope="col">adj.r.squared</th><th scope="col">sigma</th><th scope="col">statistic</th><th scope="col">p.value</th><th scope="col">df</th><th scope="col">logLik</th><th scope="col">AIC</th><th scope="col">BIC</th><th scope="col">deviance</th><th scope="col">df.residual</th><th scope="col">nobs</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Rwanda   </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 40.0000, 41.5000, 43.0000, 44.1000, 44.6000, 45.0000, 46.2180, 44.0200, 23.5990, 36.0870, 43.4130, 46.2420, 2534927.0000, 2822082.0000, 3051242.0000, 3451079.0000, 3992121.0000, 4657072.0000, 5507565.0000, 6349365.0000, 7290203.0000, 7212583.0000, 7852401.0000, 8860588.0000, 493.3239, 540.2894, 597.4731, 510.9637, 590.5807, 670.0806, 881.5706, 847.9912, 737.0686, 589.9445, 785.6538, 863.0885</td><td>132.205, -0.04583147, -2.741949, -1.012791, 0.716366, 2.045523, 2.774681, 3.403838, 4.850995, 2.882153, -17.30969, -4.592533, 2.962625, 6.020782, -143.6964, -2.740323, 1.389955, 2.692936, 3.395916, 3.998897, 5.419878, 3.424859, -16.79316, -4.10218, 3.426801, 6.458782, 2, 42.74195, 42.51279, 42.28363, 42.05448, 41.82532, 41.59616, 41.367, 41.13785, 40.90869, 40.67953, 40.45038, 40.22122, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 40, 41.5, 43, 44.1, 44.6, 45, 46.218, 44.02, 23.599, 36.087, 43.413, 46.242, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.000000e+01, 4.150000e+01, 4.300000e+01, 4.410000e+01, 4.460000e+01, 4.500000e+01, 4.621800e+01, 4.402000e+01, 2.359900e+01, 3.608700e+01, 4.341300e+01, 4.624200e+01, 2.534927e+06, 2.822082e+06, 3.051242e+06, 3.451079e+06, 3.992121e+06, 4.657072e+06, 5.507565e+06, 6.349365e+06, 7.290203e+06, 7.212583e+06, 7.852401e+06, 8.860588e+06, 4.933239e+02, 5.402894e+02, 5.974731e+02, 5.109637e+02, 5.905807e+02, 6.700806e+02, 8.815706e+02, 8.479912e+02, 7.370686e+02, 5.899445e+02, 7.856538e+02, 8.630885e+02, -2.741949e+00, -1.012791e+00, 7.163660e-01, 2.045523e+00, 2.774681e+00, 3.403838e+00, 4.850995e+00, 2.882153e+00, -1.730969e+01, -4.592533e+00, 2.962625e+00, 6.020782e+00</td><td>0.01715964</td><td>-0.081124401</td><td>6.558269</td><td>0.1745923</td><td>0.6848927</td><td>1</td><td>-38.50205</td><td>83.00411</td><td>84.45883</td><td>430.1090</td><td>10</td><td>12</td></tr>
    <tr><td>Botswana </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 47.6220, 49.6180, 51.5200, 53.2980, 56.0240, 59.3190, 61.4840, 63.6220, 62.7450, 52.5560, 46.6340, 50.7280, 442308.0000, 474639.0000, 512764.0000, 553541.0000, 619351.0000, 781472.0000, 970347.0000, 1151184.0000, 1342614.0000, 1536536.0000, 1630347.0000, 1639131.0000, 851.2411, 918.2325, 983.6540, 1214.7093, 2263.6111, 3214.8578, 4551.1421, 6205.8839, 7954.1116, 8647.1423, 11003.6051, 12569.8518</td><td>-65.49586, 0.06066853, -5.307115, -3.614458, -2.015801, -0.5411434, 1.881514, 4.873171, 6.734829, 8.569486, 7.389143, -3.103199, -9.328542, -5.537885, -189.1313, 3.627451, -0.4656616, 0.8496905, 3.113043, 5.945395, 7.647747, 9.323099, 7.983451, -2.668197, -9.052845, -5.421493, 2, 52.92912, 53.23246, 53.5358, 53.83914, 54.14249, 54.44583, 54.74917, 55.05251, 55.35586, 55.6592, 55.96254, 56.26588, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 47.622, 49.618, 51.52, 53.298, 56.024, 59.319, 61.484, 63.622, 62.745, 52.556, 46.634, 50.728, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.762200e+01, 4.961800e+01, 5.152000e+01, 5.329800e+01, 5.602400e+01, 5.931900e+01, 6.148400e+01, 6.362200e+01, 6.274500e+01, 5.255600e+01, 4.663400e+01, 5.072800e+01, 4.423080e+05, 4.746390e+05, 5.127640e+05, 5.535410e+05, 6.193510e+05, 7.814720e+05, 9.703470e+05, 1.151184e+06, 1.342614e+06, 1.536536e+06, 1.630347e+06, 1.639131e+06, 8.512411e+02, 9.182325e+02, 9.836540e+02, 1.214709e+03, 2.263611e+03, 3.214858e+03, 4.551142e+03, 6.205884e+03, 7.954112e+03, 8.647142e+03, 1.100361e+04, 1.256985e+04, -5.307115e+00, -3.614458e+00, -2.015801e+00, -5.411434e-01, 1.881514e+00, 4.873171e+00, 6.734829e+00, 8.569486e+00, 7.389143e+00, -3.103199e+00, -9.328542e+00, -5.537885e+00</td><td>0.03402340</td><td>-0.062574259</td><td>6.112177</td><td>0.3522177</td><td>0.5660414</td><td>1</td><td>-37.65673</td><td>81.31346</td><td>82.76818</td><td>373.5871</td><td>10</td><td>12</td></tr>
    <tr><td>Zimbabwe </td><td>Africa</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.845100e+01, 5.046900e+01, 5.235800e+01, 5.399500e+01, 5.563500e+01, 5.767400e+01, 6.036300e+01, 6.235100e+01, 6.037700e+01, 4.680900e+01, 3.998900e+01, 4.348700e+01, 3.080907e+06, 3.646340e+06, 4.277736e+06, 4.995432e+06, 5.861135e+06, 6.642107e+06, 7.636524e+06, 9.216418e+06, 1.070434e+07, 1.140495e+07, 1.192656e+07, 1.231114e+07, 4.068841e+02, 5.187643e+02, 5.272722e+02, 5.697951e+02, 7.993622e+02, 6.855877e+02, 7.888550e+02, 7.061573e+02, 6.934208e+02, 7.924500e+02, 6.720386e+02, 4.697093e+02</td><td>236.7982, -0.09302098, -6.770244, -4.287139, -1.933034, 0.1690711, 2.274176, 4.778281, 7.932386, 10.38549, 8.876596, -4.2263, -10.58119, -6.61809, -182.4306, -5.561846, -0.003763574, 1.916383, 3.839529, 6.161675, 9.133821, 11.40497, 9.714114, -3.57074, -10.10759, -6.326448, 2, 55.22124, 54.75614, 54.29103, 53.82593, 53.36082, 52.89572, 52.43061, 51.96551, 51.5004, 51.0353, 50.57019, 50.10509, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 48.451, 50.469, 52.358, 53.995, 55.635, 57.674, 60.363, 62.351, 60.377, 46.809, 39.989, 43.487, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.845100e+01, 5.046900e+01, 5.235800e+01, 5.399500e+01, 5.563500e+01, 5.767400e+01, 6.036300e+01, 6.235100e+01, 6.037700e+01, 4.680900e+01, 3.998900e+01, 4.348700e+01, 3.080907e+06, 3.646340e+06, 4.277736e+06, 4.995432e+06, 5.861135e+06, 6.642107e+06, 7.636524e+06, 9.216418e+06, 1.070434e+07, 1.140495e+07, 1.192656e+07, 1.231114e+07, 4.068841e+02, 5.187643e+02, 5.272722e+02, 5.697951e+02, 7.993622e+02, 6.855877e+02, 7.888550e+02, 7.061573e+02, 6.934208e+02, 7.924500e+02, 6.720386e+02, 4.697093e+02, -6.770244e+00, -4.287139e+00, -1.933034e+00, 1.690711e-01, 2.274176e+00, 4.778281e+00, 7.932386e+00, 1.038549e+01, 8.876596e+00, -4.226300e+00, -1.058119e+01, -6.618090e+00</td><td>0.05623196</td><td>-0.038144842</td><td>7.205431</td><td>0.5958240</td><td>0.4580290</td><td>1</td><td>-39.63135</td><td>85.26271</td><td>86.71743</td><td>519.1823</td><td>10</td><td>12</td></tr>
    <tr><td>Zambia   </td><td>Africa</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 42.038, 44.077, 46.023, 47.768, 50.107, 51.386, 51.821, 50.821, 46.100, 40.238, 39.193, 42.384, 2672000.000, 3016000.000, 3421000.000, 3900000.000, 4506497.000, 5216550.000, 6100407.000, 7272406.000, 8381163.000, 9417789.000, 10595811.000, 11746035.000, 1147.389, 1311.957, 1452.726, 1777.077, 1773.498, 1588.688, 1408.679, 1213.315, 1210.885, 1071.354, 1071.614, 1271.212</td><td>165.608, -0.06042517, -5.620026, -3.2789, -1.030774, 1.016352, 3.657478, 5.238604, 5.97573, 5.277855, 0.8589814, -4.700893, -5.443767, -1.950641, -159.336, -3.6129, 0.5290378, 2.4435, 4.951963, 6.400425, 7.004887, 6.17435, 1.622812, -4.069725, -4.945263, -1.584801, 2, 47.65803, 47.3559, 47.05377, 46.75165, 46.44952, 46.1474, 45.84527, 45.54314, 45.24102, 44.93889, 44.63677, 44.33464, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 42.038, 44.077, 46.023, 47.768, 50.107, 51.386, 51.821, 50.821, 46.1, 40.238, 39.193, 42.384, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.203800e+01, 4.407700e+01, 4.602300e+01, 4.776800e+01, 5.010700e+01, 5.138600e+01, 5.182100e+01, 5.082100e+01, 4.610000e+01, 4.023800e+01, 3.919300e+01, 4.238400e+01, 2.672000e+06, 3.016000e+06, 3.421000e+06, 3.900000e+06, 4.506497e+06, 5.216550e+06, 6.100407e+06, 7.272406e+06, 8.381163e+06, 9.417789e+06, 1.059581e+07, 1.174604e+07, 1.147389e+03, 1.311957e+03, 1.452726e+03, 1.777077e+03, 1.773498e+03, 1.588688e+03, 1.408679e+03, 1.213315e+03, 1.210885e+03, 1.071354e+03, 1.071614e+03, 1.271212e+03, -5.620026e+00, -3.278900e+00, -1.030774e+00, 1.016352e+00, 3.657478e+00, 5.238604e+00, 5.975730e+00, 5.277855e+00, 8.589814e-01, -4.700893e+00, -5.443767e+00, -1.950641e+00</td><td>0.05983644</td><td>-0.034179918</td><td>4.528713</td><td>0.6364471</td><td>0.4435318</td><td>1</td><td>-34.05859</td><td>74.11717</td><td>75.57189</td><td>205.0924</td><td>10</td><td>12</td></tr>
    <tr><td>Swaziland</td><td>Africa</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 41.407, 43.424, 44.992, 46.633, 49.552, 52.537, 55.561, 57.678, 58.474, 54.289, 43.869, 39.613, 290243.000, 326741.000, 370006.000, 420690.000, 480105.000, 551425.000, 649901.000, 779348.000, 962344.000, 1054486.000, 1130269.000, 1133066.000, 1148.377, 1244.708, 1856.182, 2613.102, 3364.837, 3781.411, 3895.384, 3984.840, 3553.022, 3876.768, 4128.117, 4513.481</td><td>-139.1982, 0.09507483, -4.980859, -3.439233, -2.346607, -1.180981, 1.262645, 3.77227, 6.320896, 7.962522, 8.283148, 3.622774, -7.2726, -12.00397, -169.7494, 5.684648, -0.8847665, 0.1282624, 2.419291, 4.77632, 7.172349, 8.661378, 8.829407, 4.016435, -7.031536, -11.91551, 2, 46.38786, 46.86323, 47.33861, 47.81398, 48.28936, 48.76473, 49.2401, 49.71548, 50.19085, 50.66623, 51.1416, 51.61697, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 41.407, 43.424, 44.992, 46.633, 49.552, 52.537, 55.561, 57.678, 58.474, 54.289, 43.869, 39.613, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.140700e+01, 4.342400e+01, 4.499200e+01, 4.663300e+01, 4.955200e+01, 5.253700e+01, 5.556100e+01, 5.767800e+01, 5.847400e+01, 5.428900e+01, 4.386900e+01, 3.961300e+01, 2.902430e+05, 3.267410e+05, 3.700060e+05, 4.206900e+05, 4.801050e+05, 5.514250e+05, 6.499010e+05, 7.793480e+05, 9.623440e+05, 1.054486e+06, 1.130269e+06, 1.133066e+06, 1.148377e+03, 1.244708e+03, 1.856182e+03, 2.613102e+03, 3.364837e+03, 3.781411e+03, 3.895384e+03, 3.984840e+03, 3.553022e+03, 3.876768e+03, 4.128117e+03, 4.513481e+03, -4.980859e+00, -3.439233e+00, -2.346607e+00, -1.180981e+00, 1.262645e+00, 3.772270e+00, 6.320896e+00, 7.962522e+00, 8.283148e+00, 3.622774e+00, -7.272600e+00, -1.200397e+01</td><td>0.06821087</td><td>-0.024968046</td><td>6.644091</td><td>0.7320419</td><td>0.4122530</td><td>1</td><td>-38.65807</td><td>83.31614</td><td>84.77086</td><td>441.4395</td><td>10</td><td>12</td></tr>
    <tr><td>Lesotho  </td><td>Africa</td><td>1952.0000, 1957.0000, 1962.0000, 1967.0000, 1972.0000, 1977.0000, 1982.0000, 1987.0000, 1992.0000, 1997.0000, 2002.0000, 2007.0000, 42.1380, 45.0470, 47.7470, 48.4920, 49.7670, 52.2080, 55.0780, 57.1800, 59.6850, 55.5580, 44.5930, 42.5920, 748747.0000, 813338.0000, 893143.0000, 996380.0000, 1116779.0000, 1251524.0000, 1411807.0000, 1599200.0000, 1803195.0000, 1982823.0000, 2046772.0000, 2012649.0000, 298.8462, 335.9971, 411.8006, 498.6390, 496.5816, 745.3695, 797.2631, 773.9932, 977.4863, 1186.1480, 1275.1846, 1569.3314</td><td>-139.1653, 0.09556573, -5.241026, -2.809854, -0.587683, -0.3205117, 0.4766597, 2.439831, 4.832002, 6.456174, 8.483345, 3.878516, -7.564312, -10.04314, -173.2296, 5.714, 0.8300106, 0.9897477, 1.679485, 3.535222, 5.819959, 7.336696, 9.256433, 4.54417, -7.006093, -9.592356, 2, 47.37903, 47.85685, 48.33468, 48.81251, 49.29034, 49.76817, 50.246, 50.72383, 51.20166, 51.67948, 52.15731, 52.63514, 0, 1, -3.464102, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, 0.2886751, -6857.189, 59.7913, 0.1896554, 0.1060312, 0.02240704, -0.06121716, -0.1448414, -0.2284656, -0.3120898, -0.395714, -0.4793382, -0.5629624, 1.288675, 1.27328, 1, 2, 1e-07, 2, 10, lm(formula = lifeExp ~ year, data = df), lifeExp ~ year, 42.138, 45.047, 47.747, 48.492, 49.767, 52.208, 55.078, 57.18, 59.685, 55.558, 44.593, 42.592, 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, 2002, 2007</td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 4.213800e+01, 4.504700e+01, 4.774700e+01, 4.849200e+01, 4.976700e+01, 5.220800e+01, 5.507800e+01, 5.718000e+01, 5.968500e+01, 5.555800e+01, 4.459300e+01, 4.259200e+01, 7.487470e+05, 8.133380e+05, 8.931430e+05, 9.963800e+05, 1.116779e+06, 1.251524e+06, 1.411807e+06, 1.599200e+06, 1.803195e+06, 1.982823e+06, 2.046772e+06, 2.012649e+06, 2.988462e+02, 3.359971e+02, 4.118006e+02, 4.986390e+02, 4.965816e+02, 7.453695e+02, 7.972631e+02, 7.739932e+02, 9.774863e+02, 1.186148e+03, 1.275185e+03, 1.569331e+03, -5.241026e+00, -2.809854e+00, -5.876830e-01, -3.205117e-01, 4.766597e-01, 2.439831e+00, 4.832002e+00, 6.456174e+00, 8.483345e+00, 3.878516e+00, -7.564312e+00, -1.004314e+01</td><td>0.08485635</td><td>-0.006658011</td><td>5.933934</td><td>0.9272463</td><td>0.3582864</td><td>1</td><td>-37.30158</td><td>80.60316</td><td>82.05788</td><td>352.1157</td><td>10</td><td>12</td></tr>
</tbody>
</table>
</div>
</div>
<p>가장 좋지 않은 모델은 아프리카 대륙에서 나타난다. 이는 플롯으로 다시 확인해보면 상대적으로 적은 수의 관측값과 이산형 변수가 존재핳기 때문에 <code>geom_jitter()</code>함수가 효과적이다.</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>glance <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(continent, r.squared)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-24-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li><span class="math inline">\(R^2\)</span>값이 작은 국가를 제거한 데이터를 플롯으로 나타내면</li>
</ul>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>bad_fit <span class="ot">&lt;-</span> <span class="fu">filter</span>(glance, r.squared <span class="sc">&lt;</span> <span class="fl">0.25</span>)</span>
<span id="cb27-2"><a href="#cb27-2"></a></span>
<span id="cb27-3"><a href="#cb27-3"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="fu">semi_join</span>(bad_fit, <span class="at">by =</span> <span class="st">"country"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(year, lifeExp, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="fu">geom_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="2022-09-14_purr_files/figure-html/cell-25-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>다른 배경지식을 사용하면 여기에는 HIV/AIDS 전염병과 르완다 집단 학살의 비극이라는 두 가지 주요 효과가 있다는 것을 알 수 있다.</li>
</ul>
</section>
</section>
<section id="리스트-열list-column" class="level2">
<h2 class="anchored" data-anchor-id="리스트-열list-column">리스트-열(List-column)</h2>
<ul>
<li>데이터프레임은 같은 길이의 벡터로 명명된 리스트로 이루어져 있으며, 이는 리스트-열이 데이터프레임의 정의에 내재되어 있다는 것이다.<br> 리스트는 벡터이므로 리스트를 데이터프레임의 열로 사용하는 것은 타당한 방법이다. <br>그러나 베이스 R에서는 리스트-열을 쉽게 만들 수 없으며 <code>data.frame()</code>은 리스트를 열의 리스트로 처리한다.</li>
</ul>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 3 × 2</caption>
<thead>
    <tr><th scope="col">x.1.3</th><th scope="col">x.3.5</th></tr>
    <tr><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>3</td></tr>
    <tr><td>2</td><td>4</td></tr>
    <tr><td>3</td><td>5</td></tr>
</tbody>
</table>
</div>
</div>
<p><code>I()</code>를 사용하면 <code>data.frame()</code>에서 이를 막을 수는 있지만, 다음과 같이 제대로 출력되지 않는다.</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb29-2"><a href="#cb29-2"></a>    <span class="at">x =</span> <span class="fu">I</span>(<span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)),</span>
<span id="cb29-3"><a href="#cb29-3"></a>    <span class="at">y =</span> <span class="fu">c</span>(<span class="st">"1, 2"</span>, <span class="st">"3, 4, 5"</span>)</span>
<span id="cb29-4"><a href="#cb29-4"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 2 × 2</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th></tr>
    <tr><th scope="col">&lt;I&lt;list&gt;&gt;</th><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1, 2, 3</td><td>1, 2   </td></tr>
    <tr><td>3, 4, 5</td><td>3, 4, 5</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><code>tibble()</code>은 입렵값을 수정하지 않고도 더 나은 출력 방법을 제공하여 이 문제를 해결할 수 있다.</li>
</ul>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">tibble</span>(</span>
<span id="cb30-2"><a href="#cb30-2"></a>    <span class="at">x =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb30-3"><a href="#cb30-3"></a>    <span class="at">y =</span> <span class="fu">c</span>(<span class="st">"1, 2"</span>, <span class="st">"3, 4, 5"</span>)</span>
<span id="cb30-4"><a href="#cb30-4"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 2</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th></tr>
    <tr><th scope="col">&lt;list&gt;</th><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1, 2, 3</td><td>1, 2   </td></tr>
    <tr><td>3, 4, 5</td><td>3, 4, 5</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><code>tribble()</code>은 필요한 리스트를 자동으로 생성할 수 있는 더 간단한 방법이다.</li>
</ul>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">tribble</span>(</span>
<span id="cb31-2"><a href="#cb31-2"></a>    <span class="sc">~</span>x, <span class="sc">~</span>y,</span>
<span id="cb31-3"><a href="#cb31-3"></a>    <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="st">"1, 2"</span>,</span>
<span id="cb31-4"><a href="#cb31-4"></a>    <span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>, <span class="st">"3, 4, 5"</span></span>
<span id="cb31-5"><a href="#cb31-5"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 2</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th></tr>
    <tr><th scope="col">&lt;list&gt;</th><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1, 2, 3</td><td>1, 2   </td></tr>
    <tr><td>3, 4, 5</td><td>3, 4, 5</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>리스트-열은 중급 데이터 구조로 가장 유용하다. 대부분의 R함수가 원자 벡터 또는 데이터프레임에서 동작하기 때문에 리스트-열로 직접 작업하기는 어렵다.<br> 데이터프레임에서 연관된 항목을 유지하는 장점을 누리려면 약간의 번거로움이 따를 수 밖에 없다.<br> 일반적으로 리스트-열 파이프 라인에는 효과적인 측면이 세 가지이다.</li>
</ul>
<blockquote class="blockquote">
<ol type="1">
<li>nest(), summarize() + list() 또는 mutate() + map 함수 중 하나를 사용하여 리스트-열을 생성한다.<br></li>
<li>기존의 리스트-열을 map(), map2() 또는 pmap()으로 변형하여 다른 중간 리스트-열을 만든다. 예를 들어 이전 사례에서 데이터프레임의 리스트-열을 변형하여 모델의 리스트-열을 생성하였다.<br></li>
<li>리스트-열을 데이터프레임 또는 원자 벡터로 다시 단순화한다.</li>
</ol>
</blockquote>
<section id="중첩을-사용하여-생성하기" class="level3">
<h3 class="anchored" data-anchor-id="중첩을-사용하여-생성하기">중첩을 사용하여 생성하기</h3>
<ul>
<li><code>nest()</code> 함수는 중첩된 데이터프레임(즉, 데이터프레임의 리스트-열로 이루어진 데이터프레임)을 생성한다. 중첩된 데이터프레임의 각 행은 메타 관측값을 나타낸다.<br> 다른 열은 관측값을 정의하는 변수(예 : 국가와 대륙)를 제공하고 데이터프레임의 리스트-열은 메타 관측값을 구성하는 개별 관측값을 제공한다.<br> <code>nest()</code>를 사용하는 두 가지 방법이 있는데 앞서서는 그룹화된 데이터프레임에 사용하는 방법이였고<br> 그룹화된 데이터프레임에 적용할 때 <code>nest()</code>는 그룹화된 열은 그대로 유지하고 그 외의 모든 항목은 리스트-열로 묶는다.</li>
</ul>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2"></a><span class="fu">group_by</span>(country, continent) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="fu">nest</span>() <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 6 × 3</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>그룹화되지 않은 데이터프레임에서도 중첩하고자 하는 열을 지정하면 사용할 수 있다.</li>
</ul>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2"></a><span class="fu">nest</span>(year<span class="sc">:</span>gdpPercap) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3"></a>head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“All elements of `...` must be named.
Did you want `data = year:gdpPercap`?”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 6 × 3</caption>
<thead>
    <tr><th scope="col">country</th><th scope="col">continent</th><th scope="col">data</th></tr>
    <tr><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;fct&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>Afghanistan</td><td>Asia    </td><td>1.952000e+03, 1.957000e+03, 1.962000e+03, 1.967000e+03, 1.972000e+03, 1.977000e+03, 1.982000e+03, 1.987000e+03, 1.992000e+03, 1.997000e+03, 2.002000e+03, 2.007000e+03, 2.880100e+01, 3.033200e+01, 3.199700e+01, 3.402000e+01, 3.608800e+01, 3.843800e+01, 3.985400e+01, 4.082200e+01, 4.167400e+01, 4.176300e+01, 4.212900e+01, 4.382800e+01, 8.425333e+06, 9.240934e+06, 1.026708e+07, 1.153797e+07, 1.307946e+07, 1.488037e+07, 1.288182e+07, 1.386796e+07, 1.631792e+07, 2.222742e+07, 2.526840e+07, 3.188992e+07, 7.794453e+02, 8.208530e+02, 8.531007e+02, 8.361971e+02, 7.399811e+02, 7.861134e+02, 9.780114e+02, 8.523959e+02, 6.493414e+02, 6.353414e+02, 7.267341e+02, 9.745803e+02</td></tr>
    <tr><td>Albania    </td><td>Europe  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 55.230, 59.280, 64.820, 66.220, 67.690, 68.930, 70.420, 72.000, 71.581, 72.950, 75.651, 76.423, 1282697.000, 1476505.000, 1728137.000, 1984060.000, 2263554.000, 2509048.000, 2780097.000, 3075321.000, 3326498.000, 3428038.000, 3508512.000, 3600523.000, 1601.056, 1942.284, 2312.889, 2760.197, 3313.422, 3533.004, 3630.881, 3738.933, 2497.438, 3193.055, 4604.212, 5937.030</td></tr>
    <tr><td>Algeria    </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 43.077, 45.685, 48.303, 51.407, 54.518, 58.014, 61.368, 65.799, 67.744, 69.152, 70.994, 72.301, 9279525.000, 10270856.000, 11000948.000, 12760499.000, 14760787.000, 17152804.000, 20033753.000, 23254956.000, 26298373.000, 29072015.000, 31287142.000, 33333216.000, 2449.008, 3013.976, 2550.817, 3246.992, 4182.664, 4910.417, 5745.160, 5681.359, 5023.217, 4797.295, 5288.040, 6223.367</td></tr>
    <tr><td>Angola     </td><td>Africa  </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 30.015, 31.999, 34.000, 35.985, 37.928, 39.483, 39.942, 39.906, 40.647, 40.963, 41.003, 42.731, 4232095.000, 4561361.000, 4826015.000, 5247469.000, 5894858.000, 6162675.000, 7016384.000, 7874230.000, 8735988.000, 9875024.000, 10866106.000, 12420476.000, 3520.610, 3827.940, 4269.277, 5522.776, 5473.288, 3008.647, 2756.954, 2430.208, 2627.846, 2277.141, 2773.287, 4797.231</td></tr>
    <tr><td>Argentina  </td><td>Americas</td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 62.485, 64.399, 65.142, 65.634, 67.065, 68.481, 69.942, 70.774, 71.868, 73.275, 74.340, 75.320, 17876956.000, 19610538.000, 21283783.000, 22934225.000, 24779799.000, 26983828.000, 29341374.000, 31620918.000, 33958947.000, 36203463.000, 38331121.000, 40301927.000, 5911.315, 6856.856, 7133.166, 8052.953, 9443.039, 10079.027, 8997.897, 9139.671, 9308.419, 10967.282, 8797.641, 12779.380</td></tr>
    <tr><td>Australia  </td><td>Oceania </td><td>1952.000, 1957.000, 1962.000, 1967.000, 1972.000, 1977.000, 1982.000, 1987.000, 1992.000, 1997.000, 2002.000, 2007.000, 69.120, 70.330, 70.930, 71.100, 71.930, 73.490, 74.740, 76.320, 77.560, 78.830, 80.370, 81.235, 8691212.000, 9712569.000, 10794968.000, 11872264.000, 13177000.000, 14074100.000, 15184200.000, 16257249.000, 17481977.000, 18565243.000, 19546792.000, 20434176.000, 10039.596, 10949.650, 12217.227, 14526.125, 16788.629, 18334.198, 19477.009, 21888.889, 23424.767, 26997.937, 30687.755, 34435.367</td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="벡터화-함수에서-생성하기" class="level3">
<h3 class="anchored" data-anchor-id="벡터화-함수에서-생성하기">벡터화 함수에서 생성하기</h3>
<ul>
<li>몇가지 유용한 함수는 원자 벡터를 입력하여 리스트를 반환한다. 예를 들어 <code>stringr::str_split()</code>.<br> <code>mutate</code> 함수 안에서 이를 사용하면 리스트-열을 얻을 수 있다.</li>
</ul>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb35-2"><a href="#cb35-2"></a>    <span class="sc">~</span>x1,</span>
<span id="cb35-3"><a href="#cb35-3"></a>    <span class="st">"a,b,c"</span>,</span>
<span id="cb35-4"><a href="#cb35-4"></a>    <span class="st">"d,e,f,g"</span></span>
<span id="cb35-5"><a href="#cb35-5"></a>    )</span>
<span id="cb35-6"><a href="#cb35-6"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 1</caption>
<thead>
    <tr><th scope="col">x1</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a,b,c  </td></tr>
    <tr><td>d,e,f,g</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2"></a><span class="fu">mutate</span>(<span class="at">x2 =</span> stringr<span class="sc">::</span><span class="fu">str_split</span>(x1, <span class="st">","</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 2</caption>
<thead>
    <tr><th scope="col">x1</th><th scope="col">x2</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a,b,c  </td><td>a, b, c</td></tr>
    <tr><td>d,e,f,g</td><td>d, e, f, g</td></tr>
</tbody>
</table>
</div>
</div>
<p><code>unnest()</code> 함수는 벡터 리스트 다루는 방법을 알고 있다.</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">mutate</span>(<span class="at">x2 =</span> stringr<span class="sc">::</span><span class="fu">str_split</span>(x1, <span class="st">","</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3"></a><span class="fu">unnest</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“`cols` is now required when using unnest().
Please use `cols = c(x2)`”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 7 × 2</caption>
<thead>
    <tr><th scope="col">x1</th><th scope="col">x2</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a,b,c  </td><td>a</td></tr>
    <tr><td>a,b,c  </td><td>b</td></tr>
    <tr><td>a,b,c  </td><td>c</td></tr>
    <tr><td>d,e,f,g</td><td>d</td></tr>
    <tr><td>d,e,f,g</td><td>e</td></tr>
    <tr><td>d,e,f,g</td><td>f</td></tr>
    <tr><td>d,e,f,g</td><td>g</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>이 패턴을 많이 사용하는 경우에는 공통 패턴을 포함하는 <code>tidyr:separate_row()</code>를 반드시 확인한다.<br> 이 패턴의 또 다른 예제는 purr의 <code>map()</code>, <code>map2()</code>, <code>pmap()</code> 함수를 사용하는 것이다.</li>
</ul>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>sim <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb39-2"><a href="#cb39-2"></a>    <span class="sc">~</span>f, <span class="sc">~</span>params,</span>
<span id="cb39-3"><a href="#cb39-3"></a>    <span class="st">"runif"</span>, <span class="fu">list</span>(<span class="at">min =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">max =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb39-4"><a href="#cb39-4"></a>    <span class="st">"rnorm"</span>, <span class="fu">list</span>(<span class="at">sd =</span> <span class="dv">5</span>),</span>
<span id="cb39-5"><a href="#cb39-5"></a>    <span class="st">"rpois"</span>, <span class="fu">list</span>(<span class="at">lambda =</span> <span class="dv">10</span>)</span>
<span id="cb39-6"><a href="#cb39-6"></a>    )</span>
<span id="cb39-7"><a href="#cb39-7"></a>sim</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 2</caption>
<thead>
    <tr><th scope="col">f</th><th scope="col">params</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>runif</td><td>-1, -1</td></tr>
    <tr><td>rnorm</td><td>5</td></tr>
    <tr><td>rpois</td><td>10</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>sim <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2"></a><span class="fu">mutate</span>(<span class="at">sims =</span> <span class="fu">invoke_map</span>(f, params, <span class="at">n =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 3</caption>
<thead>
    <tr><th scope="col">f</th><th scope="col">params</th><th scope="col">sims</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>runif</td><td>-1, -1</td><td>-1, -1, -1, -1, -1, -1, -1, -1, -1, -1</td></tr>
    <tr><td>rnorm</td><td>5</td><td>0.8244597185, 7.4269963753, -0.2802207175, 2.1495297875, -0.0002438665, 6.1046357552, 6.5391574008, -8.5557067705, -2.5508686388, 2.3913567687</td></tr>
    <tr><td>rpois</td><td>10</td><td>9, 14, 9, 14, 8, 8, 10, 14, 9, 16</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><code>sim</code>은 더블형과 정수형 벡터 둘 다 포함하므로 기술적으로 똑같지 않다. 그러나 정수형과 더블형 벡터 모두 수치형 벡터이므로 많은 문제가 발생하지 않는다.</li>
</ul>
</section>
<section id="다중값-요약에서-생성하기" class="level3">
<h3 class="anchored" data-anchor-id="다중값-요약에서-생성하기">다중값 요약에서 생성하기</h3>
<p><code>summarize()</code>의 한 가지 제약은 단일 값을 반환하는 요약 함수로만 동작한다는 것이다.<br> 즉, 임의 길이의 벡터를 반환하는 <code>quantile()</code>과 같은 함수와 함께 사용할 수 없다는 것을 의미한다.</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb41-2"><a href="#cb41-2"></a><span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3"></a><span class="fu">summarize</span>(<span class="at">q =</span> <span class="fu">quantile</span>(mpg))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'cyl'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A grouped_df: 15 × 2</caption>
<thead>
    <tr><th scope="col">cyl</th><th scope="col">q</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>4</td><td>21.40</td></tr>
    <tr><td>4</td><td>22.80</td></tr>
    <tr><td>4</td><td>26.00</td></tr>
    <tr><td>4</td><td>30.40</td></tr>
    <tr><td>4</td><td>33.90</td></tr>
    <tr><td>6</td><td>17.80</td></tr>
    <tr><td>6</td><td>18.65</td></tr>
    <tr><td>6</td><td>19.70</td></tr>
    <tr><td>6</td><td>21.00</td></tr>
    <tr><td>6</td><td>21.40</td></tr>
    <tr><td>8</td><td>10.40</td></tr>
    <tr><td>8</td><td>14.40</td></tr>
    <tr><td>8</td><td>15.20</td></tr>
    <tr><td>8</td><td>16.25</td></tr>
    <tr><td>8</td><td>19.20</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>결과를 리스트로 넣기<br> 각각의 요약은 길이가 1인 리스트(벡터)이므로 <code>summarize()</code>함수의 규칙을 따른다.</li>
</ul>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>mtcars <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="fu">summarize</span>(<span class="at">q =</span> <span class="fu">list</span>(<span class="fu">quantile</span>(mpg)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 2</caption>
<thead>
    <tr><th scope="col">cyl</th><th scope="col">q</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>4</td><td>21.4, 22.8, 26.0, 30.4, 33.9</td></tr>
    <tr><td>6</td><td>17.80, 18.65, 19.70, 21.00, 21.40</td></tr>
    <tr><td>8</td><td>10.40, 14.40, 15.20, 16.25, 19.20</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><code>unnest()</code>를 사용하여 유용한 결과를 얻기 위해서는 확률값을 포착해야 한다.</li>
</ul>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>probs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.99</span>)</span>
<span id="cb44-2"><a href="#cb44-2"></a>mtcars <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3"></a><span class="fu">group_by</span>(cyl) <span class="sc">%&gt;%</span></span>
<span id="cb44-4"><a href="#cb44-4"></a><span class="fu">summarize</span>(<span class="at">p =</span> <span class="fu">list</span>(probs), <span class="at">q =</span> <span class="fu">list</span>(<span class="fu">quantile</span>(mpg, probs))) <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="#cb44-5"></a><span class="fu">unnest</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“`cols` is now required when using unnest().
Please use `cols = c(p, q)`”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 15 × 3</caption>
<thead>
    <tr><th scope="col">cyl</th><th scope="col">p</th><th scope="col">q</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>4</td><td>0.01</td><td>21.410</td></tr>
    <tr><td>4</td><td>0.25</td><td>22.800</td></tr>
    <tr><td>4</td><td>0.50</td><td>26.000</td></tr>
    <tr><td>4</td><td>0.75</td><td>30.400</td></tr>
    <tr><td>4</td><td>0.99</td><td>33.750</td></tr>
    <tr><td>6</td><td>0.01</td><td>17.818</td></tr>
    <tr><td>6</td><td>0.25</td><td>18.650</td></tr>
    <tr><td>6</td><td>0.50</td><td>19.700</td></tr>
    <tr><td>6</td><td>0.75</td><td>21.000</td></tr>
    <tr><td>6</td><td>0.99</td><td>21.376</td></tr>
    <tr><td>8</td><td>0.01</td><td>10.400</td></tr>
    <tr><td>8</td><td>0.25</td><td>14.400</td></tr>
    <tr><td>8</td><td>0.50</td><td>15.200</td></tr>
    <tr><td>8</td><td>0.75</td><td>16.250</td></tr>
    <tr><td>8</td><td>0.99</td><td>19.135</td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="명명된-리스트에서-생성하기" class="level3">
<h3 class="anchored" data-anchor-id="명명된-리스트에서-생성하기">명명된 리스트에서 생성하기</h3>
<ul>
<li>리스트-열이 있는 데이터프레임은 다음의 일반적인 문제에 대한 해결책을 제공한다. 리스트의 내용과 요소, 둘 다 반복하고자 할 때는 어떻게 할 것인가?<br> 모든 것을 하나의 객체로 묶으려고 하는 대신 데이터프레임을 만드는 것이 더 쉽다. 하나의 열은 요소를 포함할 수 있고, 다른 하나의 열은 리스트를 포함할 수 있다.<br> 리스트에서 이러한 데이터프레임을 만드는 쉬운 방법은 <code>tibble::enframe()</code>을 사용하는 것이다.</li>
</ul>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb46-2"><a href="#cb46-2"></a>    <span class="at">a=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb46-3"><a href="#cb46-3"></a>    <span class="at">b=</span><span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb46-4"><a href="#cb46-4"></a>    <span class="at">c=</span><span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb46-5"><a href="#cb46-5"></a></span>
<span id="cb46-6"><a href="#cb46-6"></a>df <span class="ot">&lt;-</span> <span class="fu">enframe</span>(x)</span>
<span id="cb46-7"><a href="#cb46-7"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 2</caption>
<thead>
    <tr><th scope="col">name</th><th scope="col">value</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a</td><td>1, 2, 3, 4, 5</td></tr>
    <tr><td>b</td><td>3, 4</td></tr>
    <tr><td>c</td><td>5, 6</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>이 구조의 장점은 간단한 방법으로 일반화한다는 것이다. 메타 데이터에 문자형 벡터가 있는 경우 이름(name)에는 유용하지만 다른 유형의 데이터 또는 여러 벡터가 있는 경우 유용하지 않다.</li>
</ul>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">mutate</span>(</span>
<span id="cb47-3"><a href="#cb47-3"></a>    <span class="at">smry =</span> <span class="fu">map2_chr</span>(</span>
<span id="cb47-4"><a href="#cb47-4"></a>        name,</span>
<span id="cb47-5"><a href="#cb47-5"></a>        value,</span>
<span id="cb47-6"><a href="#cb47-6"></a>        <span class="sc">~</span> stringr<span class="sc">::</span><span class="fu">str_c</span>(.x, <span class="st">": "</span>, .y[<span class="dv">1</span>])</span>
<span id="cb47-7"><a href="#cb47-7"></a>        )</span>
<span id="cb47-8"><a href="#cb47-8"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 3</caption>
<thead>
    <tr><th scope="col">name</th><th scope="col">value</th><th scope="col">smry</th></tr>
    <tr><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;chr&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a</td><td>1, 2, 3, 4, 5</td><td>a: 1</td></tr>
    <tr><td>b</td><td>3, 4</td><td>b: 3</td></tr>
    <tr><td>c</td><td>5, 6</td><td>c: 5</td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="리스트-열-단순화하기" class="level3">
<h3 class="anchored" data-anchor-id="리스트-열-단순화하기">리스트-열 단순화하기</h3>
<ul>
<li>데이터 처리 및 시각화 기술을 적용하기 위해서는 리스트-열을 일반 열(원자 벡터) 또는 열의 집합으로 다시 단순화해야 한다.<br> 더 간단한 구조로 축소하기 위해 사용할 기법은 요소당 하나의 값을 사용하는지 또는 여러 값을 사용하는지에 따라 달라진다.</li>
</ul>
<blockquote class="blockquote">
<p>단일 값을 원하는 경우 <code>map_lgl()</code>, <code>map_int()</code>, <code>map_dbl()</code>, <code>map_chr()</code>에 <code>mutate()</code>를 사용하여 원자 벡터를 생성한다.<br> 많은 값을 원하는 경우 <code>unnest()</code>를 사용하여 리스트-열을 일반 열로 다시 변환하고 필요한 만큼 행을 반복한다.</p>
</blockquote>
<section id="리스트를-벡터로-만들기" class="level4">
<h4 class="anchored" data-anchor-id="리스트를-벡터로-만들기">리스트를 벡터로 만들기</h4>
<ul>
<li>리스트 열을 원자 벡터로 줄일 수 있다면 리스트 열은 일반 열이 될 것이다.<br> 예를 들어 타입과 길이를 가진 객체는 항상 요약할 수 있으므로 다음 코드는 리스트 열의 종류에 관계없이 작동할 것이다.</li>
</ul>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb48-2"><a href="#cb48-2"></a>    <span class="sc">~</span>x,</span>
<span id="cb48-3"><a href="#cb48-3"></a>    letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>],</span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="fu">runif</span>(<span class="dv">5</span>)</span>
<span id="cb48-6"><a href="#cb48-6"></a>    )</span>
<span id="cb48-7"><a href="#cb48-7"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 1</caption>
<thead>
    <tr><th scope="col">x</th></tr>
    <tr><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a, b, c, d, e</td></tr>
    <tr><td>1, 2, 3</td></tr>
    <tr><td>0.5219118, 0.7152954, 0.5081047, 0.6517999, 0.3156121</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb49-2"><a href="#cb49-2"></a>    <span class="at">type =</span> <span class="fu">map_chr</span>(x, typeof),</span>
<span id="cb49-3"><a href="#cb49-3"></a>    <span class="at">length =</span> <span class="fu">map_int</span>(x, length)</span>
<span id="cb49-4"><a href="#cb49-4"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">type</th><th scope="col">length</th></tr>
    <tr><th scope="col">&lt;list&gt;</th><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;int&gt;</th></tr>
</thead>
<tbody>
    <tr><td>a, b, c, d, e</td><td>character</td><td>5</td></tr>
    <tr><td>1, 2, 3</td><td>integer  </td><td>3</td></tr>
    <tr><td>0.5219118, 0.7152954, 0.5081047, 0.6517999, 0.3156121</td><td>double   </td><td>5</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>이는 기본 tbl print 방법에서 얻은 것과 같은 기본 정보지만, 여기에서는 필터링 용도로 사용할 수 있다. <br> 다차원적인 리스트에 대해서 작동하지 않는 부분을 필터링하고자 할 때 유용한 기법이다.<br> <code>map_*()</code>단축어를 기억하자. 예를 들어 <code>map_chr(x, "apple")</code>를 사용하여 x의 각 요소에 대해 apple에 저장된 문자열을 추출할 수 있다. 이는 중첩된 리스트를 일반 열로 분리할 때 유용하다. 리스트의 요소가 누락된 경우 (NULL을 반환한느 대신) 사용할 값을 제공하는 <code>.null</code>인수를 사용한다.</li>
</ul>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb50-2"><a href="#cb50-2"></a>    <span class="sc">~</span>x,</span>
<span id="cb50-3"><a href="#cb50-3"></a>    <span class="fu">list</span>(<span class="at">a=</span><span class="dv">1</span>, <span class="at">b=</span><span class="dv">2</span>),</span>
<span id="cb50-4"><a href="#cb50-4"></a>    <span class="fu">list</span>(<span class="at">a=</span><span class="dv">2</span>, <span class="at">c=</span><span class="dv">4</span>)</span>
<span id="cb50-5"><a href="#cb50-5"></a>    )</span>
<span id="cb50-6"><a href="#cb50-6"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 1</caption>
<thead>
    <tr><th scope="col">x</th></tr>
    <tr><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1, 2</td></tr>
    <tr><td>2, 4</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb51-2"><a href="#cb51-2"></a>    <span class="at">a =</span> <span class="fu">map_dbl</span>(x, <span class="st">"a"</span>),</span>
<span id="cb51-3"><a href="#cb51-3"></a>    <span class="at">b =</span> <span class="fu">map_dbl</span>(x, <span class="st">"b"</span>, <span class="at">.null =</span> <span class="cn">NA_real_</span>)</span>
<span id="cb51-4"><a href="#cb51-4"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">a</th><th scope="col">b</th></tr>
    <tr><th scope="col">&lt;list&gt;</th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1, 2</td><td>1</td><td> 2</td></tr>
    <tr><td>2, 4</td><td>2</td><td>NA</td></tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="중첩-해제하기" class="level4">
<h4 class="anchored" data-anchor-id="중첩-해제하기">중첩 해제하기</h4>
<ul>
<li><code>unnest()</code>는 리스트-열의 각 요소를 한 줄씩 일반 열로 반복하며 동작한다.<br> 예를 들어 다음의 아주 간단한 예제에서는 (y의 첫번째 요소 길이가 4이므로) 첫 번째 행은 4번 반복하고 두 번째 행은 한 번만 반복한다.</li>
</ul>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a><span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">y =</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span> <span class="fu">unnest</span>(y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 5 × 2</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th></tr>
    <tr><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>1</td></tr>
    <tr><td>1</td><td>2</td></tr>
    <tr><td>1</td><td>3</td></tr>
    <tr><td>1</td><td>4</td></tr>
    <tr><td>2</td><td>1</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>즉, 이는 다른 수의 요소가 포함된 두 개의 열을 동시에 중첩 해제할 수 없다는 것을 의미한다.</li>
</ul>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb53-2"><a href="#cb53-2"></a>    <span class="sc">~</span>x, <span class="sc">~</span>y, <span class="sc">~</span>z,</span>
<span id="cb53-3"><a href="#cb53-3"></a>    <span class="dv">1</span>, <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb53-4"><a href="#cb53-4"></a>    <span class="dv">2</span>, <span class="st">"c"</span>, <span class="dv">3</span></span>
<span id="cb53-5"><a href="#cb53-5"></a>    )</span>
<span id="cb53-6"><a href="#cb53-6"></a>df1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th><th scope="col">z</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>a, b</td><td>1, 2</td></tr>
    <tr><td>2</td><td>c</td><td>3</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>df1 <span class="sc">%&gt;%</span> <span class="fu">unnest</span>(y, z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“unnest() has a new interface. See ?unnest for details.
Try `df %&gt;% unnest(c(y, z))`, with `mutate()` if needed”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 3 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th><th scope="col">z</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>a</td><td>1</td></tr>
    <tr><td>1</td><td>b</td><td>2</td></tr>
    <tr><td>2</td><td>c</td><td>3</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb56-2"><a href="#cb56-2"></a>    <span class="sc">~</span>x, <span class="sc">~</span>y, <span class="sc">~</span>z,</span>
<span id="cb56-3"><a href="#cb56-3"></a>    <span class="dv">1</span>, <span class="st">"a"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb56-4"><a href="#cb56-4"></a>    <span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"b"</span>,<span class="st">"c"</span>), <span class="dv">3</span></span>
<span id="cb56-5"><a href="#cb56-5"></a>    )</span>
<span id="cb56-6"><a href="#cb56-6"></a>df2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 2 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th><th scope="col">z</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;list&gt;</th><th scope="col">&lt;list&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>a</td><td>1, 2</td></tr>
    <tr><td>2</td><td>b, c</td><td>3</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>df2 <span class="sc">%&gt;%</span> <span class="fu">unnest</span>(y, z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message:
“unnest() has a new interface. See ?unnest for details.
Try `df %&gt;% unnest(c(y, z))`, with `mutate()` if needed”</code></pre>
</div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A tibble: 4 × 3</caption>
<thead>
    <tr><th scope="col">x</th><th scope="col">y</th><th scope="col">z</th></tr>
    <tr><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;chr&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><td>1</td><td>a</td><td>1</td></tr>
    <tr><td>1</td><td>a</td><td>2</td></tr>
    <tr><td>2</td><td>b</td><td>3</td></tr>
    <tr><td>2</td><td>c</td><td>3</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>데이터프레임의 리스트-열을 중첩 해제할 때도 같은 원칙이 적용된다. 각 행의 모든 데이터프레임이 같은 개수의 행을 가지고 있다면 여러 개의 리스트-열을 중첩 해제할 수 있다.</li>
</ul>
</section>
</section>
<section id="broom으로-타이디-데이터-만들기" class="level3">
<h3 class="anchored" data-anchor-id="broom으로-타이디-데이터-만들기">broom으로 타이디 데이터 만들기</h3>
<ul>
<li>broom 패키지는 모델을 타이디 데이터프레임으로 변환할 수 있는 세 가지의 일반적인 도구를 제공한다.</li>
</ul>
<blockquote class="blockquote">
<p><code>broom::glance(model)</code>은 각 모델에 대한 행을 반환한다. 각 열에는 모델 요약(모델 성능 척도 또는 복잡성 또는 둘의 조합)이 표시된다.<br> <code>broom::tidy(model)</code>은 모델의 각 계수에 대한 행을 반환한다. 각 열의 추정값 또는 변동성에 대한 정보를 제공한다.<br> <code>broom::augment(model, data)</code>는 data의 각 행에 잔차와 같은 영향 통계량을 추가하여 반환한다.</p>
</blockquote>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>